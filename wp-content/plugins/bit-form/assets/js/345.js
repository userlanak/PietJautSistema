(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[345],{1194:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var s=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content",required:!0},{key:"post_excerpt",name:"Post Excert"},{key:"_thumbnail_id",name:"Featured Image"}]},772:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(5637),i=n(2247),r=n(5893);function a(e){var t=e.i,n=e.type,a=e.formFields,l=e.field,o=e.dataConf,d=e.setDataConf,c=e.podFields,m={pod:{propName:"pod_map",fldName:"podFormField"},post:{propName:"post_map",fldName:"postFormField"}}[n],u=m.propName,p=m.fldName,f=!!c.find((function(e){return e.key===l[p]&&e.required}));return(0,r.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,r.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,r.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:function(e){return(0,i.wX)(u,e,t,o,d)},children:[(0,r.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),a.map((function(e){return"file-up33"!==e.type&&(0,r.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,r.jsxs)("select",{className:"btcd-paper-inp",name:p,value:l[p]||"",onChange:function(e){return(0,i.wX)(u,e,t,o,d)},disabled:f,children:[(0,r.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),null==c?void 0:c.map((function(e){return(0,r.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})]}),f?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{onClick:function(){return(0,i.FP)(u,t,o,d)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:function(){return(0,i.FP)(u,t,o,d)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,r.jsx)("button",{onClick:function(){return(0,i.T5)(u,t,o,d)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,r.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})]})}},2247:function(e,t,n){"use strict";n.d(t,{FP:function(){return i},T5:function(){return r},wX:function(){return a},aJ:function(){return l},UW:function(){return o}});var s=n(2122),i=(n(5637),function(e,t,n,i){var r=(0,s.Z)({},n);r[e].splice(t,0,{}),i((0,s.Z)({},r))}),r=function(e,t,n,i){var r=(0,s.Z)({},n);r[e].length>1&&r[e].splice(t,1),i((0,s.Z)({},r))},a=function(e,t,n,i,r){var a=(0,s.Z)({},i);a[e][n][t.target.name]=t.target.value,r((0,s.Z)({},a))},l=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postFormField&&e.required})):[]).length>0)},o=function(e){return!((null!=e&&e.pod_map?e.pod_map.filter((function(e){return!e.formField&&e.podFormField&&e.required})):[]).length>0)}},345:function(e,t,n){"use strict";n.r(t);var s=n(2122),i=n(4866),r=n(7294),a=n(5977),l=n(9492),o=n(4383),d=n(2247),c=n(772),m=n(5001),u=n(1194),p=n(5893);t.default=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,h=e.allIntegURL,x=(0,r.useState)([]),b=x[0],_=x[1],j=(0,r.useState)([]),v=j[0],g=j[1],F=(0,r.useState)([]),N=F[0],y=F[1],k=(0,a.k6)(),C=(0,r.useState)({name:"Pods",type:"Pods",post_map:[{}],pod_map:[{}]}),P=C[0],S=C[1],w=(0,r.useState)({show:!1}),Z=w[0],q=w[1],I=function(e,t,n){var i=(0,s.Z)({},P);i[e]=n?Number(t):t,S(i)};return(0,r.useEffect)((function(){(0,l.Z)({},"bitforms_get_pod_type").then((function(e){var t,n;null!=e&&e.success&&void 0!==e&&(_(Object.values(null==(t=e.data)?void 0:t.post_types)),y(null==(n=e.data)?void 0:n.users))}));var e=(0,s.Z)({},P);e.post_map=u.I.filter((function(e){return e.required})).map((function(e){return{formField:"",postFormField:e.key,required:e.required}})),S(e)}),[]),(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(m.Z,{snack:Z,setSnackbar:q}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Integration Name ","bitform")})}),(0,p.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return I(e.target.name,e.target.value)},name:"name",value:P.name,type:"text",placeholder:(0,i.__)("Integration Name...","bitform")}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("b",{children:(0,i.__)("Pod","bitform")})," ",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var n=(0,s.Z)({},P);n[e]=t,(0,l.Z)({pod_type:t},"bitforms_get_pod_field").then((function(e){var t;null!=e&&e.success&&void 0!==e&&(g(Object.values(null==e?void 0:e.data)),null!=e&&e.data&&(n.pod_map=Object.values(e.data).filter((function(e){return e.required})).map((function(e){return{formField:"",podFormField:e.key,required:e.required}})),(null==n||null==(t=n.pod_map)?void 0:t.length)<1&&(n.pod_map=[{}])),S(n))}))}(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Select Type"}),b.map((function(e,t){return(0,p.jsx)("option",{value:e.name,children:e.label},t)}))]}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("b",{children:(0,i.__)("Post Status","bitform")})," ",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsxs)("select",{name:"post_status",onChange:function(e){return I(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"publish",children:"Publish"}),(0,p.jsx)("option",{value:"draft",children:"Draft"}),(0,p.jsx)("option",{value:"inherit",children:"Inherit"}),(0,p.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,p.jsx)("option",{value:"private ",children:"Private"}),(0,p.jsx)("option",{value:"pending",children:"Pending"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Comment Status","bitform")})}),(0,p.jsxs)("select",{name:"comment_status",onChange:function(e){return I(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"open",children:"Open"}),(0,p.jsx)("option",{value:"closed",children:"Closed"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Author","bitform")})}),(0,p.jsxs)("select",{name:"post_author",onChange:function(e){return I(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Logged In User"}),N.map((function(e,t){return(0,p.jsx)("option",{value:e.ID,children:e.display_name},t)}))]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Pod Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Pod Fields","bitform")})})]})]}),P.pod_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"pod",field:e,formFields:t,dataConf:P,setDataConf:S,podFields:v},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("pod_map",P.pod_map.length,P,S)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Post Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Post Fields","bitform")})})]})]}),P.post_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"post",field:e,formFields:t,dataConf:P,setDataConf:S,podFields:u.I},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("post_map",P.post_map.length,P,S)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(0,p.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){P.post_type?P.post_status?(0,d.aJ)(P)&&(0,d.UW)(P)?(0,o.Mm)(f,n,h,P,k):q({show:!0,msg:(0,i.__)("Please map mandatory fields","bitform")}):q({show:!0,msg:(0,i.__)("Post Status cann't be empty","bitform")}):q({show:!0,msg:(0,i.__)("Pod cann't be empty","bitform")})},children:[(0,i.__)("Save","bitform")," "]})]})}}}]);