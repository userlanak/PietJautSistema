(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[8143],{4017:function(e,t,n){"use strict";n.d(t,{kl:function(){return l},A0:function(){return r},Qm:function(){return s}});var i=n(2804),a=n(2249),l=(0,i.cn)({key:"_fields",default:[],dangerouslyAllowMutability:!0}),r=(0,i.cn)({key:"_fieldLabels",default:[],dangerouslyAllowMutability:!0}),s=(0,i.nZ)({key:"_fieldsArr",get:function(e){var t=e.get;return(0,a.CH)(t(r))},dangerouslyAllowMutability:!0});(0,i.nZ)({key:"_uniqueFieldKey",get:function(e){var t=e.get;return(0,a.RL)(t(l))}})},4981:function(e,t,n){"use strict";n.d(t,{L:function(){return s},Z:function(){return d}});var i,a=n(7294),l=n(7678),r=n(5893),s=function(){i.reset()};function d(e){var t=e.attr,n=(0,a.useState)(!0),s=n[0],d=n[1];return(0,a.useEffect)((function(){d(!1),setTimeout((function(){d(!0)}),1)}),[t.theme]),(0,r.jsx)("div",{className:"drag btcd-flx j-c-c",style:{minHeight:"inherit"},children:s&&(0,r.jsx)(l.Z,{ref:function(e){return i=e},theme:t.theme,sitekey:t.siteKey||"non"})})}},3560:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(7294),a=n(4981),l=n(2122);function r(e,t,n,i){void 0===i&&(i=0);var a=Object.getPrototypeOf(e);if(a.hasOwnProperty(t)){var l=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:function(){return l.get.apply(this,arguments)},set:function(){var e=this[t];l.set.apply(this,arguments);var a=this[t];return"function"==typeof n&&setTimeout(n.bind(this,e,a),i),a}})}}var s=function(e,t){return new Promise((function(n){var i=document.createElement("script");i.src=e,i.onload=function(){n(!0)},i.onerror=function(){n(!1)},i.id=t,document.body.appendChild(i)}))},d=function(e){return document.querySelector(e)},o=n(5893);function c(e){var t,n=e.fieldKey,a=e.attr,s=e.onBlurHandler,c=e.resetFieldValue,u=e.formID,f="url"===a.typ?"text":a.typ,m=(0,i.useRef)(null),p=(0,i.useState)(void 0!==a.val?a.val:""),y=p[0],b=p[1];(0,i.useEffect)((function(){void 0===a.val||a.userinput?a.val||a.userinput?a.conditional&&b(a.val):b(""):b(a.val)}),[a.val,a.userinput,a.conditional]),(0,i.useEffect)((function(){c&&b("")}),[c]),(0,i.useEffect)((function(){if(a.hasWorkflow&&a.val===y&&s&&!a.userinput){var e=m.current;s(e)}}),[y]);return(0,i.useEffect)((function(){var e=d("#"+n);e&&r(e,"value",(function(e,t){return b("email"===a.typ?t.toLowerCase():t)}))}),[]),(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+u+" drag  "+(a.valid.hide?"btcd-hidden":""),"btcd-fld":"text-fld",children:["lbl"in a&&(0,o.jsxs)("label",{title:a.lbl,className:"fld-lbl fld-lbl-"+u,htmlFor:n,children:[a.lbl,(null==(t=a.valid)?void 0:t.req)&&" *"]}),(0,o.jsx)("input",(0,l.Z)({id:n,className:"fld fld-"+u,type:f},"req"in a.valid&&{required:a.valid.req},"disabled"in a.valid&&{disabled:a.valid.disabled},"readonly"in a.valid&&{readOnly:a.valid.readonly},"ph"in a&&{placeholder:a.ph},"mn"in a&&{min:a.mn},"mx"in a&&{max:a.mx},"ac"in a&&{autoComplete:a.ac},"name"in a&&{name:a.name},s&&{onBlur:s},{value:y,onChange:function(e){var t="email"===a.typ?e.target.value.toLowerCase():e.target.value;b(t)},ref:m})),a.error&&(0,o.jsx)("span",{style:{color:"red"},children:a.error})]})}function u(e){var t=e.fieldKey,n=e.attr,a=e.onBlurHandler,s=e.resetFieldValue,c=e.formID,u=(0,i.useState)(n.val),f=u[0],m=u[1],p=(0,i.useRef)(null);(0,i.useEffect)((function(){void 0===n.val||n.userinput?n.val||n.userinput?n.conditional&&m(n.val):m(""):m(n.val)}),[n.val,n.userinput,n.conditional]),(0,i.useEffect)((function(){s&&m("")}),[s]),(0,i.useEffect)((function(){if(n.hasWorkflow&&n.val===f&&a&&!n.userinput){var e=p.current;a(e)}}),[f]);return(0,i.useEffect)((function(){var e=d("#"+t);e&&r(e,"value",(function(e,t){return m(t)}))}),[]),(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+c+" drag  "+(n.valid.hide?"btcd-hidden":""),"btcd-fld":"textarea",children:["lbl"in n&&(0,o.jsx)("label",{className:"fld-lbl fld-lbl-"+c,htmlFor:t,children:n.lbl}),(0,o.jsx)("textarea",(0,l.Z)({id:t,className:"fld fld-"+c+" no-drg textarea",style:{height:"calc(100% - 30px)"},ref:p},"ph"in n&&{placeholder:n.ph},"ac"in n&&{autoComplete:n.ac},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"readonly"in n.valid&&{readOnly:n.valid.readonly},"name"in n&&{name:n.name},a&&{onBlur:a},{value:f,onChange:function(e){m(e.target.value)}}))]})}function f(e){var t,n=e.attr,a=e.onBlurHandler,r=e.resetFieldValue,s=e.formID;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val):t=n.opt.filter((function(e){return e.check})).map((function(e){return e.val||e.lbl}));var d=(0,i.useState)(t||[]),c=d[0],u=d[1],f=(0,i.useRef)(null);(0,i.useEffect)((function(){(t&&JSON.stringify(t)!==JSON.stringify(c)&&!n.userinput||n.conditional)&&u(t)}),[n.val,n.userinput,n.conditional,n.opt]),(0,i.useEffect)((function(){r&&u([])}),[r]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(c)&&a&&!n.userinput){var e=f.current;a(e)}}),[c]);var m=function(e){if(!n.valid.disabled){var t=c.indexOf(e.target.value);e.target.checked&&-1===t?u([].concat(c,[e.target.value])):!e.target.checked&&t>=0&&u(c.filter((function(t){return t!==e.target.value}))),a&&a(e)}};return(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+s+" drag "+(n.valid.hide?"btcd-hidden":""),"btcd-fld":"textarea",children:["lbl"in n&&(0,o.jsx)("label",{className:"fld-lbl fld-lbl-"+s,children:n.lbl}),(0,o.jsx)("div",{className:"no-drg fld fld-"+s+" btcd-ck-con "+(n.round&&"btcd-round"),children:n.opt.map((function(e,t){var i,a;return(0,o.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+s,children:[(0,o.jsx)("span",{children:e.lbl}),(0,o.jsx)("input",(0,l.Z)({type:"checkbox",ref:f,disabled:null==n||null==(i=n.valid)?void 0:i.disabled,readOnly:null==n||null==(a=n.valid)?void 0:a.readonly,defaultValue:e.val||e.lbl},e.req&&{required:!0},"name"in n&&{name:n.name+"[]"},{checked:Array.isArray(c)&&c.indexOf(e.val||e.lbl)>=0,onChange:m})),(0,o.jsx)("span",{className:"btcd-mrk ck"})]},"opt-"+(t+24))}))})]})}function m(e){var t,n,a,r=e.attr,s=e.onBlurHandler,d=e.resetFieldValue,c=e.formID,u=r.valid.checked,f=(0,i.useRef)(null),m=r.val||(u?r.msg.checked:r.msg.unchecked),p=(0,i.useState)(m),y=p[0],b=p[1];y===r.msg.unchecked?u=!1:y===r.msg.checked&&(u=!0),(0,i.useEffect)((function(){d&&b(m)}),[d]),(0,i.useEffect)((function(){if(r.hasWorkflow&&s&&!r.userinput){var e=f.current;s(e)}}),[y]);return(0,o.jsx)("div",{className:"fld-wrp fld-wrp-"+c+" drag "+(r.valid.hide?"btcd-hidden":""),"btcd-fld":"decisionbox",children:(0,o.jsx)("div",{className:"no-drg fld fld-"+c+" btcd-ck-con "+(r.round&&"btcd-round"),children:(0,o.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+c,children:[(0,o.jsx)("span",{className:"decision-content",dangerouslySetInnerHTML:{__html:r.lbl||(null==r||null==(t=r.info)?void 0:t.lbl)}}),(0,o.jsx)("input",(0,l.Z)({type:"hidden",value:y},"name"in r&&{name:r.name})),(0,o.jsx)("input",(0,l.Z)({style:{height:r.valid.req&&1,width:r.valid.req&&1},type:"checkbox",ref:f,disabled:null==r||null==(n=r.valid)?void 0:n.disabled,readOnly:null==r||null==(a=r.valid)?void 0:a.readonly},r.valid.req&&{required:!0},{checked:u,onChange:function(e){r.valid.disabled||(e.target.checked?b(r.msg.checked):b(r.msg.unchecked),s&&s(e))},value:y})),(0,o.jsx)("span",{className:"btcd-mrk ck"})]})})})}function p(e){var t,n=e.attr,i=(e.onBlurHandler,e.resetFieldValue,e.formID);return(0,o.jsx)("div",{className:"fld-wrp fld-wrp-"+i+" drag "+(n.valid.hide?"btcd-hidden":""),"btcd-fld":"html",dangerouslySetInnerHTML:{__html:n.content||(null==n||null==(t=n.info)?void 0:t.content)}})}function y(e){var t=e.attr,n=e.onBlurHandler,a=e.resetFieldValue,r=e.formID,s=(0,i.useState)(t.val||""),d=s[0],c=s[1],u=(0,i.useRef)(null);(0,i.useEffect)((function(){if(t.val&&!t.userinput)c(t.val);else if(t.val||t.userinput)t.conditional&&c(t.val);else{var e;t.opt&&t.opt.forEach((function(t){t.check&&(e=t.lbl)})),c(e||"")}}),[t.val,t.userinput,t.conditional,t.opt]),(0,i.useEffect)((function(){a&&c("")}),[a]),(0,i.useEffect)((function(){if(t.hasWorkflow&&t.val===d&&n&&!t.userinput){var e=u.current;n(e)}}),[d]);var f=function(e){t.valid.disabled||(c(e.target.value),n&&n(e))},m=Math.random();return(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+r+" drag  "+(t.valid.hide?"btcd-hidden":""),"btcd-fld":"textarea",children:["lbl"in t&&(0,o.jsx)("label",{className:"fld-lbl fld-lbl-"+r,children:t.lbl}),(0,o.jsx)("div",{className:"no-drg fld fld-"+r+" btcd-ck-con "+(t.round&&"btcd-round"),children:t.opt.map((function(e,n){return(0,o.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+r,children:[(0,o.jsx)("span",{children:e.lbl}),(0,o.jsx)("input",(0,l.Z)({type:"radio",ref:u,name:m,value:e.lbl},e.check&&{checked:!0},e.req&&{required:!0},"name"in t&&{name:t.name},{checked:d===e.lbl},"readonly"in t.valid&&{readOnly:t.valid.readonly},{onChange:f})),(0,o.jsx)("span",{className:"btcd-mrk rdo"})]},"opr-"+(n+22))}))})]})}var b=n(7707);n(8774);function h(e){var t,n=e.attr,a=e.onBlurHandler,r=e.resetFieldValue,s=e.formID,d=e.isBuilder;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val.length>0?n.val.filter((function(e){return e})):[]):t=[];var c=(0,i.useState)(t||[]),u=c[0],f=c[1];(0,i.useEffect)((function(){d||!t||n.userinput||JSON.stringify(u)===JSON.stringify(t)?t&&n.conditional&&f(t):f(t)}),[n.val,n.userinput,n.conditional,t,u]),(0,i.useEffect)((function(){r&&f([])}),[r]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(u)&&a&&!n.userinput){var e={name:"mul"in n?""+n.name:n.name,value:u,type:"dropdown",multiple:"mul"in n&&n.mul};a(e)}}),[u]);return(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+s+" drag  "+(n.valid.hide?"btcd-hidden":""),"btcd-fld":"select",children:["lbl"in n&&(0,o.jsxs)("label",{className:"fld-lbl fld-lbl-"+s,children:[n.lbl," ",n.valid.req&&" *"]}),(0,o.jsx)(b.Z,(0,l.Z)({className:"fld fld-"+s+" dpd no-drg"},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"ph"in n&&{placeholder:n.ph},"name"in n&&{name:"mul"in n?""+n.name:n.name},{singleSelect:!n.mul,customValue:n.customOpt,options:function(){return function(){var e=[];return n.opt.map((function(t){if(t.lbl)e.push({label:t.lbl,value:t.lbl}),t.prefix_img&&e.push((0,l.Z)({},t,{title:t.label||t.lbl,label:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"http://bitcode.io/wp-content/plugins/BitForm/static/countries/af.png",alt:""}),t.label||t.lbl]})}));else if(t.prefix_img){var n="";n="undefined"===typeof bits&&"undefined"!==typeof bitFormsFront?bitFormsFront.assetUrl:bits.assetsURL,e.push((0,l.Z)({},t,{title:t.label||t.lbl,label:(0,o.jsxs)("div",{className:"btcd-flx",children:[(0,o.jsx)("img",{className:"dpd-prefix",src:""+n+t.prefix_img,alt:t.label}),t.label||t.lbl]})}))}else e.push(t)})),e}()},onChange:function(e){if(e&&e.target&&e.target.multiple&&u){var t=[];e.target.childNodes.forEach((function(e){e.selected&&e.value&&t.push(e.value)})),f([].concat(t))}else{if(a){var i={name:"mul"in n?""+n.name:n.name,value:e.split(","),type:"dropdown",multiple:"mul"in n&&n.mul,userinput:!0};a(i)}f(e.split(","))}},defaultValue:u})),n.error&&(0,o.jsx)("span",{style:{color:"red"},children:n.error})]})}var x=(0,i.memo)(h),g=n(92);function j(e){var t=e.attr,n=e.formID,a=e.entryID,r=e.resetFieldValue,s=(0,i.createRef)(),d=(0,i.useState)(void 0!==t.val&&JSON.parse(t.val)),c=d[0],u=d[1];(0,i.useEffect)((function(){if(r){var e=document.getElementsByName("mul"in t?t.name+"[]":t.name)[0];e.value=null,e.nextElementSibling.innerHTML="",e.previousElementSibling.children[1].innerHTML="No File Chosen"}}),[r]);return(0,o.jsxs)("div",{className:"fld-wrp fld-wrp-"+n+" drag  "+(t.valid.hide?"btcd-hidden":""),children:["lbl"in t&&(0,o.jsx)("label",{className:"fld-lbl fld-lbl-"+n,children:t.lbl}),(0,o.jsx)("div",{className:"btcd-f-input",children:(0,o.jsxs)("div",{className:"btcd-f-wrp",children:[(0,o.jsxs)("div",{className:"btn-wrp",children:[(0,o.jsxs)("button",{className:"btcd-inpBtn",type:"button",children:[(0,o.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",children:(0,o.jsx)("path",{d:"M13.5 7.5l-5.757 5.757a4.243 4.243 0 01-6-6l5.929-5.929a2.828 2.828 0 014 4l-5.758 5.758a1.414 1.414 0 01-2-2L9.5 3.5",stroke:"currentColor"})}),(0,o.jsx)("span",{children:" "+t.upBtnTxt})]}),(0,o.jsx)("div",{className:"btcd-f-title",children:"No File Chosen"}),(0,o.jsx)("small",{className:"f-max",children:"mxUp"in t&&" (Max "+t.mxUp+" MB)"})]}),(0,o.jsx)("input",(0,l.Z)({},"req"in t.valid&&{required:t.valid.req},"disabled"in t.valid&&{disabled:t.valid.disabled},"mul"in t&&{multiple:!0},"exts"in t&&{accept:t.exts},"name"in t&&{name:"mul"in t?t.name+"[]":t.name},{type:"file",onClick:g.setPrevData,onChange:function(e){return function(e){(0,g.handleFile)(e);for(var t=0;t<s.current.children.length;t+=1)s.current.children[t].children[2].addEventListener("click",(function(e){(0,g.delItem)(e.target)}))}(e)}})),void 0!==t.val&&(0,o.jsxs)("div",{className:"btcd-old-file",children:[(0,o.jsx)("input",{type:"hidden",name:t.name+"_old",value:c.toString()}),!1!==c&&0!==c.length&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsxs)("small",{children:[c.length," ","Old File"]})}),c.map((function(e,t){return(0,o.jsxs)("div",{className:"flx ",children:[(0,o.jsxs)("a",{href:"undefined"!==typeof bits?bits.baseDLURL+"formID="+n+"&entryID="+a+"&fileID="+e:"",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)("span",{className:"btcd-icn icn-file"})," ",e]}),(0,o.jsx)("button",{onClick:function(){return function(e){var t=[].concat(c);t.splice(e,1),u(t)}(t)},type:"button",className:"icn-btn",children:"×"})]},"ol-f-"+(t+3))}))]}),(0,o.jsx)("div",{ref:s,className:"btcd-files"})]})})]})}function v(e){var t=e.attr;return(0,o.jsxs)("div",{className:"fld-wrp drag","btcd-fld":"text-fld",children:["lbl"in t&&(0,o.jsx)("label",{className:"fld-lbl",children:t.lbl}),(0,o.jsx)("input",(0,l.Z)({className:"fld no-drg",type:t.typ},"req"in t.valid&&{required:t.valid.req},"ph"in t&&{placeholder:t.ph},"mn"in t&&{min:t.mn},"mx"in t&&{max:t.mx},"val"in t&&{defaultValue:t.val},"val"in t&&"userinput"in t&&t.userinput&&{value:t.val},"ac"in t&&{autoComplete:t.ac},"name"in t&&{name:t.name}))]})}var M=n(5257);function N(e){var t=e.attr,n=e.buttonDisabled,i=e.handleReset,a=e.formID;return(0,o.jsx)("div",{className:"fld-wrp fld-wrp-"+a,"btcd-fld":"submit",children:(0,o.jsxs)("div",{className:"btcd-frm-sub "+("center"===t.align&&"j-c-c")+" "+("right"===t.align&&"j-c-e"),children:[(0,o.jsxs)("button",{className:"btcd-sub-btn btcd-sub "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),disabled:n,type:"submit",children:[t.subBtnTxt,n&&(0,o.jsx)(M.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}),"rstBtnTxt"in t&&(0,o.jsx)("button",(0,l.Z)({className:"btcd-sub-btn btcd-rst "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),type:"button"},i&&{onClick:i},{children:t.rstBtnTxt}))]})})}function I(e){var t=e.attr,n=e.buttonDisabled,i=e.handleReset,a=e.formID;e.data;return(0,o.jsx)("div",{className:"fld-wrp drag fld-wrp-"+a,"btcd-fld":"submit",children:(0,o.jsx)("div",{className:"btcd-frm-sub "+("center"===t.align&&"j-c-c")+" "+("right"===t.align&&"j-c-e"),children:(0,o.jsxs)("button",(0,l.Z)({className:"btcd-sub-btn "+("reset"===t.btnTyp?"btcd-rst":"btcd-sub")+" "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),disabled:n,type:t.btnTyp},"reset"===t.btnTyp&&{onClick:i},{children:[t.txt,n&&(0,o.jsx)(M.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}))})})}var D=n(5473),w=n(3938),T=n(9492);var L=function(e){var t,n=e.fieldKey,a=e.formID,r=e.attr,s=e.contentID,c=e.resetFieldValue,u=e.isBuilder,f=(0,i.useContext)(w.d),m=(0,i.useState)(""),p=m[0],y=m[1],b=(0,i.useState)(!1),h=b[0],x=b[1],g=(0,i.useState)((null==r?void 0:r.amount)||1),j=g[0],v=g[1],M=(0,i.useState)((null==r?void 0:r.shipping)||0),N=M[0],I=M[1],L=(0,i.useState)((null==r?void 0:r.tax)||0),S=L[0],C=L[1],k=(0,i.useState)((null==r?void 0:r.description)||""),A=k[0],z=k[1],_=r.currency,E="subscription"===r.payType,O="standalone"===r.style.layout,Z=function(e){var t={amountFld:[v],shippingFld:[I],taxFld:[C],descFld:[z]};return Object.entries(t).map((function(t){if(null!=r&&r[t[0]]){var n=d('[name="'+r[t[0]]+'"]');if(n){var i=n.value;e&&t[1][0](i),t[1][1]=i}}})),t};return(0,i.useEffect)((function(){var e="",t=document.getElementById("paypal-client-"+n);if(t){var i=null==t?void 0:t.getAttribute("paypal-client-key");i&&(e=atob(i))}else{var a,l=null==f||null==(a=f.payments)?void 0:a.find((function(e){return e.id&&r.payIntegID&&Number(e.id)===Number(r.payIntegID)}));l&&(e=l.clientID)}y(e),Z(1)}),[r.payIntegID]),(0,i.useEffect)((function(){if(c){var e=document.getElementById("paypalfield");e&&e.remove()}}),[c]),(0,i.useEffect)((function(){x(!1),setTimeout((function(){x(!0)}),1)}),[p,r.currency,r.payType,r.locale,r.disableFunding]),(0,o.jsx)("div",{className:"drag fld-wrp fld-wrp-"+a+" "+(u?"o-h":"")+" "+(r.valid.hide?"btcd-hidden":""),children:(0,o.jsx)("div",{style:{width:"auto",minWidth:150,maxWidth:750,marginLeft:"auto",marginRight:"auto"},children:h&&p?(0,o.jsx)(D.Vv,{options:(0,l.Z)({"client-id":p},!E&&{currency:_},E&&{vault:!0,intent:"subscription"},(null==r?void 0:r.locale)&&{locale:r.locale},(null==r?void 0:r.disableFunding)&&{"disable-funding":r.disableFunding}),children:(0,o.jsx)(D.ch,(0,l.Z)({style:(0,l.Z)({color:r.style.color,shape:r.style.shape,label:E?"subscribe":r.style.label},!O&&{layout:r.style.layout},(null==(t=r.style)?void 0:t.height)&&{height:Number(r.style.height)})},O&&{fundingSource:D.KT[r.style.payBtn]},E?{createSubscription:function(e,t){return function(e,t){return t.subscription.create({plan_id:null==r?void 0:r.planId})}(0,t)}}:{createOrder:function(e,t){return function(e,t){var n=Z(),i=Number(n.amountFld[1]||j),a=Number(n.shippingFld[1]||N),l=Number(n.taxFld[1]||S)*i/100,s=(i+a+l).toFixed(2);return t.order.create({purchase_units:[{description:n.descFld[1]||A,amount:{currency_code:r.currency,value:s,breakdown:{item_total:{currency_code:r.currency,value:i},shipping:{currency_code:r.currency,value:a},tax_total:{currency_code:r.currency,value:l}}}}]})}(0,t)}},{onApprove:function(e,t){return function(e,t){(E?t.subscription.get():t.order.capture()).then((function(e){var t=document.getElementById("form-"+s);if("undefined"!==typeof t&&null!==t){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",n),i.setAttribute("id","paypalfield"),i.setAttribute("value",e.id),t.appendChild(i),t.querySelector('button[type="submit"]').click();var l={formID:a,transactionID:e.id,payment_name:"paypal",payment_type:E?"subscription":"order",payment_response:e};(0,T.Z)(l,"bitforms_payment_insert")}}))}(0,t)},forceReRender:{amount:j,lay:r.style}}))}):r.payIntegID?"":(0,o.jsx)("p",{children:"Select a config from field settings to render the PayPal."})})})},S=n(2137),C=n(7757),k=n.n(C);function A(e){var t=e.fieldKey,n=e.contentID,a=e.formID,l=e.attr,r=e.buttonDisabled,c=e.resetFieldValue,u=(e.isFrontend,(0,i.useContext)(w.d)),f=(0,i.useState)(l.options.amount||1),m=f[0],p=f[1],y=(0,i.useState)(""),b=y[0],h=y[1],x=(0,i.useState)(""),g=x[0],j=x[1],v=(0,i.useState)(""),M=v[0],N=v[1],I="subscription"===l.payType;(0,i.useEffect)((function(){p(l.options.amount)}),[l.options.amount]),(0,i.useEffect)((function(){D(),L(1)}),[]),(0,i.useEffect)((function(){if(c){var e=document.getElementById("razorpayfield");e&&e.remove()}}),[c]);var D=function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("razorpaysrc")){e.next=5;break}return e.next=3,s("https://checkout.razorpay.com/v1/checkout.js","razorpaysrc");case 3:e.sent||D();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t={amountFld:[p],prefillNameFld:[h,"prefill"],prefillEmailFld:[j,"prefill"],prefillContactFld:[N,"prefill"]};return Object.entries(t).map((function(t){var n=t[1][1]?l.options[t[1][1]][t[0]]:l.options[t[0]];if(n){var i=d('[name="'+n+'"]');if(i){var a=i.value;e&&t[1][0](a),t[1][2]=a}}})),t},C=function(e){var i=document.getElementById("form-"+n);if("undefined"!==typeof i&&null!==i){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",t),l.setAttribute("id","razorpayfield"),l.setAttribute("value",e.razorpay_payment_id),i.appendChild(l),i.querySelector('button[type="submit"]').click();var r={formID:a,fieldKey:t,transactionID:e.razorpay_payment_id,payment_type:I?"subscription":"order"};(0,T.Z)(r,"bitforms_save_razorpay_details")}};return(0,o.jsx)("div",{className:"drag fld-wrp fld-wrp-"+a+" "+(l.valid.hide?"btcd-hidden":""),children:(0,o.jsx)("div",{className:"btcd-frm-sub "+("center"===l.align&&"j-c-c")+" "+("right"===l.align&&"j-c-e"),children:(0,o.jsx)("button",{className:"btcd-sub-btn btcd-sub "+("md"===l.btnSiz&&"btcd-btn-md")+" "+(l.fulW&&"ful-w"),disabled:r,type:"button",onClick:function(){var e="",n=document.getElementById("razorpay-client-"+t);if(n){var i=null==n?void 0:n.getAttribute("razorpay-client-key");if(!i)return!1;e=atob(i)}else{var a,r=null==u||null==(a=u.payments)?void 0:a.find((function(e){return e.id&&l.options.payIntegID&&Number(e.id)===Number(l.options.payIntegID)}));if(!r)return!1;e=r.apiKey}var s=L(),d=l.options,o=d.currency,c=d.name,f=d.description,p=d.theme,y=d.modal,h=d.notes,x=y.confirm_close,j={key:e,amount:100*Number(s.amountFld[2]||m),currency:o,name:c,description:f,theme:p,notes:h,modal:{backdropclose:!1,escape:!1,confirm_close:x},prefill:{name:s.prefillNameFld[2]||b,email:s.prefillEmailFld[2]||g,contact:s.prefillContactFld[2]||M},handler:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};new window.Razorpay(j).open()},children:l.btnTxt})})})}function z(e){var t;switch(null==e||null==(t=e.atts)?void 0:t.typ){case"text":case"number":case"password":case"email":case"url":case"date":case"datetime-local":case"time":case"month":case"week":case"color":return(0,o.jsx)(c,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"textarea":return(0,o.jsx)(u,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"check":return(0,o.jsx)(f,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"radio":return(0,o.jsx)(y,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"select":return(0,o.jsx)(x,{isBuilder:e.isBuilder,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"file-up":return(0,o.jsx)(j,{formID:e.formID,attr:e.atts,entryID:e.entryID,resetFieldValue:e.resetFieldValue});case"submit":return(0,o.jsx)(N,{formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"hidden":return(0,o.jsx)(v,{formID:e.formID,attr:e.atts});case"recaptcha":return(0,o.jsx)(a.Z,{formID:e.formID,attr:e.atts});case"decision-box":return(0,o.jsx)(m,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"html":return(0,o.jsx)(p,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"button":return(0,o.jsx)(I,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"paypal":return(0,o.jsx)(L,{isBuilder:e.isBuilder,fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,contentID:e.contentID,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"razorpay":return(0,o.jsx)(A,{fieldKey:e.fieldKey,contentID:e.contentID,formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,resetFieldValue:e.resetFieldValue});case"blank":return(0,o.jsx)("div",{className:"blnk-blk drag"})}return(0,o.jsx)("div",{children:"None"})}var _=(0,i.memo)(z)},8143:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var i=n(2122),a=n(7294),l=n(5977),r=n(2804),s=n(5637),d=n(4401),o=n(7480),c=n(5893);var u=function(e){return(0,c.jsxs)("div",{className:"btcd-drawer",style:{right:e.show?0:-420},children:[(0,c.jsxs)("div",{className:"flx flx-between",children:[(0,c.jsx)("div",{className:"btcd-drawer-title",children:e.title}),(0,c.jsxs)("div",{className:"flx",children:[(0,c.jsx)("button",{onClick:e.relatedinfo,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Related Info"'},"aria-label":"icon-btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn icn-information-outline",style:{fontSize:16}})}),(0,c.jsx)("button",{onClick:e.editData,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"icon-btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}})}),(0,c.jsx)("button",{onClick:e.delConfMdl,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"icon-btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn icn-trash-fill",style:{fontSize:16}})}),(0,c.jsx)("button",{onClick:function(){return e.close(!1)},className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Close"'},"aria-label":"modal-close",type:"button",children:(0,c.jsx)(o.Z,{size:"14",stroke:"3"})})]})]}),(0,c.jsx)("small",{className:"btcd-mdl-subtitle",children:e.subTitle}),(0,c.jsx)("div",{className:"btcd-mdl-div"}),e.children]})},f=n(1298),m=n(8762),p=n(9492),y=n(3560),b=n(4981),h=n(2249),x=function e(t,n){if(Array.isArray(t)){for(var i=!1,a=0;a<t.length;a+=1){var l=t[a];if("string"!==typeof l){var r=e(l,n);if(0===a&&(i=r),a-1>=0&&"string"===typeof t[a-1])switch(t[a-1].toLowerCase()){case"or":i=i||r;break;case"and":i=i&&r}}}return i}if(void 0===n[t.field])return!1;var s=g(t.val,n),d=n[t.field].value;"number"===typeof s&&(d=parseInt(d,10));var o=d;switch(t.logic){case"equal":if(!n[t.field].value)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===o||Array.isArray(o)){var c=Array.isArray(o)?o:JSON.parse(o),u=s.split(","),f=0;return c.forEach((function(e){c.length>0&&-1!==u.indexOf(e)&&(f+=1)})),f===u.length&&u.length===c.length}return o===s;case"not_equal":if(!o)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===o||Array.isArray(o)){var m=Array.isArray(o)?o:JSON.parse(o),p=s.split(",");if(m.length!==p.length)return!0;var y=0;return p.forEach((function(e){m.length>0&&-1===m.indexOf(e)&&(y+=1)})),p.length===y}return o!==s;case"null":return o&&0===o.length;case"not_null":return o&&o.length>0;case"contain":if(!o)return!1;var b=s.split(","),h=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===o||Array.isArray(o)){var x=Array.isArray(o)?o:JSON.parse(o);return b.forEach((function(e){x.length>0&&-1!==x.indexOf(e)&&(h+=1)})),h>0}return b.forEach((function(e){o.length>0&&-1!==o.indexOf(e)&&(h+=1)})),h>0;case"contain_all":if(!o)return!1;var j=s.split(","),v=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===o||Array.isArray(o)){var M=Array.isArray(o)?o:JSON.parse(o);return j.forEach((function(e){M.length>0&&-1!==M.indexOf(e)&&(v+=1)})),v>=j.length}break;case"not_contain":if(!o)return!1;var N=s.split(","),I=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===o||Array.isArray(o)){var D=Array.isArray(o)?o:JSON.parse(o);return N.forEach((function(e){D.length>0&&-1===D.indexOf(e)&&(I+=1)})),I===N.length}return N.forEach((function(e){o.length>0&&-1===o.indexOf(e)&&(I+=1)})),I===N.length;case"greater":return!!o&&("number"===n[t.field].type?""!==o&&Number(o)>Number(s):""!==o&&o>s);case"less":return!!o&&("number"===n[t.field].type?""!==o&&Number(o)<Number(s):""!==o&&o<s);case"greater_or_equal":return!!o&&("number"===n[t.field].type?""!==o&&Number(o)>=Number(s):""!==o&&o>=s);case"less_or_equal":return!!o&&("number"===n[t.field].type?""!==o&&Number(o)<=Number(s):""!==o&&o<=s);case"start_with":return!!o&&(""!==o&&0===o.indexOf(s));case"end_with":return!!o&&s===o.substr(o.length-s.length,o.length);default:return!1}},g=function(e,t){if(!e)return e;var n;if("string"!==typeof(n="object"===typeof e?JSON.stringify(e):(0,h.p$)(e)))return e;var i=n.match(/\${\w[^${}]*}/g);return i&&i.map((function(e){var i=e.substring(2,e.length-1);if(t[i]){var a=t[i].value;Array.isArray(t[i].value)&&!isNaN(t[i].value[0])&&(a=0,t[i].value.map((function(e){a+=Number(e)}))),n=n.replace(e,a)}})),j(n)},j=function(e){if(!e)return e;var t=e,n=e.match(/[\\+\-\\*\\/\\%]/g);if(n&&n.length>0){var i=e.match(/\w+/g);if(!i)return e;var a=i.filter((function(e){return isNaN(e)}));if(a&&a.length>0)return t;t=(t=t.replace(/\{|\[/g,"(")).replace(/\}|\]/g,")");try{t=Function('"use strict";return ('+t+")")()}catch(l){return e}}return t},v=function(e,t){return(0,i.Z)({},e,t)};function M(e){var t=(0,a.useState)(!1),n=t[0],i=t[1],l=(0,a.useState)(null),r=l[0],s=l[1],d=(0,a.useState)(!1),o=d[0],u=d[1],f=(0,a.useReducer)(v,e.data),m=f[0],p=f[1],j=(0,a.useState)(e.layout)[0],M=(0,a.useState)(!1),I=M[0],D=M[1],w=(0,a.useState)(!1),T=w[0],L=w[1],S=0,C=function(t){if(t){var n,i,a=!1,l=!1,r=[];t.target?(n=t.target,i=t.target.form,l=!0):("dropdown"===(n=t).type&&n.userinput&&(l=!0),i=document.getElementById("form-"+e.contentID));var s,d=void 0!==m&&(0,h.p$)(m);T&&L(!1);var o=[],c=n.name;s=n.name&&-1!==n.name.indexOf("[]")&&n.name.indexOf("[]")===n.name.length-2?n.name.substring(0,n.name.length-2):n.name,d[e.fieldsKey[s]]&&d[e.fieldsKey[s]].error&&(delete d[e.fieldsKey[s]].error,r[e.fieldsKey[s]]=d[e.fieldsKey[s]],a=!0),d[e.fieldsKey[s]]&&!d[e.fieldsKey[s]].userinput&&l&&(d[e.fieldsKey[s]].userinput=l,r[e.fieldsKey[s]]=d[e.fieldsKey[s]],a=!0),void 0!==e.fieldToCheck[s]&&(Object.keys(e.fieldsKey).forEach((function(e){var t;t=s===e?c:e;var a=i.querySelectorAll("[name^='"+t+"']");if(a.length>0){var l,r,d=a[0].type;if(a[0].name===n.name&&"checkbox"!==d)l=n.value,r=n.multiple,d=n.type;else if("checkbox"===d||"select-multiple"===d||"select-one"===d||"radio"===d)switch(d){case"checkbox":var u=[];a.forEach((function(e){e.checked&&e.value&&u.push(e.value)})),l=u,r=!0;break;case"select-multiple":var f=[];a[0].slim?a[0].slim.data.data.forEach((function(e){e.selected&&e.value&&f.push(e.value)})):a[0].childNodes.forEach((function(e){e.selected&&e.value&&f.push(e.value)})),l=f,r=!0;break;case"select-one":l=a[0].value;break;case"radio":a.forEach((function(e){e.checked&&e.value&&(l=e.value)}))}else"hidden"===a[0].type&&a[0].value&&a[0].nextElementSibling&&a[0].nextElementSibling.hasAttribute("data-msl")?r=(l=a[0].value.split(","))&&l.length>0:(l=a[0].value,r=a[0].multiple);o[e]={type:d,value:l,multiple:r}}})),e.fieldToCheck[s].forEach((function(t){x(e.conditional[t].logics,o)?e.conditional[t].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){switch(t.action){case"value":if(void 0!==t.val&&d[e.fieldsKey[t.field]]){var n=t.val?g(t.val,o):t.val;t.field===s&&d[e.fieldsKey[t.field]].val===n&&l&&!d[e.fieldsKey[t.field]].conditional?d[e.fieldsKey[t.field]].conditional=!0:d[e.fieldsKey[t.field]].conditional=!1,d[e.fieldsKey[t.field]].val=n,d[e.fieldsKey[t.field]].userinput=!1,a=!0}break;case"hide":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.hide=!0,a=!0);break;case"disable":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.disabled=!0,a=!0);break;case"readonly":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.readonly=!0,a=!0);break;case"enable":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.disabled=!1,a=!0);break;case"show":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.hide=!1,"hidden"===d[e.fieldsKey[t.field]].typ&&(d[e.fieldsKey[t.field]].typ="text"),a=!0)}r[e.fieldsKey[t.field]]=d[e.fieldsKey[t.field]]}})):e.conditional[t].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){switch(a=!0,t.action){case"value":void 0!==t.val&&d[e.fieldsKey[t.field]]&&!d[e.fieldsKey[t.field]].userinput&&t.field!==s&&(d[e.fieldsKey[t.field]].val=e.data[e.fieldsKey[t.field]].val?g(e.data[e.fieldsKey[t.field]].val,o):"",d[e.fieldsKey[t.field]].userinput=!1);break;case"hide":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide);break;case"disable":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.disabled=e.data[e.fieldsKey[t.field]].valid.disabled);break;case"readonly":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.readonly=e.data[e.fieldsKey[t.field]].valid.readonly);break;case"enable":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.disabled=e.data[e.fieldsKey[t.field]].valid.disabled);break;case"show":d[e.fieldsKey[t.field]]&&(d[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide,"hidden"===d[e.fieldsKey[t.field]].typ&&(d[e.fieldsKey[t.field]].typ=e.data[e.fieldsKey[t.field]].typ))}r[e.fieldsKey[t.field]]=d[e.fieldsKey[t.field]]}}))}))),a&&(r[e.fieldsKey[s]]&&r[e.fieldsKey[s]].userinput&&o[s]&&(r[e.fieldsKey[s]].val=o[s].value),p(r))}},k=function(t){t.then((function(e){return new Promise((function(t,n){e.status>400?500===e.status?n(new Error("Maybe Internal Server Error")):n(e.json()):t(e.json())}))})).then((function(t){var n=null,a=null;if(void 0!==t&&t.success)z(),"object"===typeof t.data?(n=t.data.redirectPage,t.data.cron&&(a=t.data.cron),t.data.cronNotOk&&(a=t.data.cronNotOk),s(t.data.message),i(!0),I&&D(!1)):(s(t.data),i(!0));else if(t.data&&"string"===typeof t.data)s(t.data),D(!0),i(!0);else if(t.data&&(void 0!==t.data.$form&&(s((0,h.p$)(t.data.$form)),D(!0),i(!0),delete t.data.$form),Object.keys(t.data).length>0)){var l=void 0!==m&&(0,h.p$)(m);Object.keys(t.data).map((function(n){l[e.fieldsKey[n]].error=t.data[n]})),p(l)}if(n){A(a);var r=setTimeout((function(){window.location=decodeURI(n),r&&clearTimeout(r)}),1e3)}else A(a);u(!1)})).catch((function(e){var t=null!=e&&e.message?e.message:"Unknown Error";s(t),D(!0),i(!0),u(!1)}))},A=function(t){if(t)if("string"===typeof t){var n=new URL(t);n.protocol!==window.location.protocol&&(n.protocol=window.location.protocol),fetch(n)}else{var i=new URL(bitFormsFront.ajaxURL);i.searchParams.append("action","bitforms_trigger_workflow");var a={cronNotOk:t,token:e.nonce,id:e.appID};fetch(i,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},z=function(){L(!0),e.gRecaptchaSiteKey&&"v2"===e.gRecaptchaVersion&&(0,b.L)()};return(0,a.useEffect)((function(){return T&&L(!1),function(){L(!1)}}),[T]),(0,a.useEffect)((function(){if(e.error&&(void 0!==e.error.$form&&(D(!0),s((0,h.p$)(e.error.$form)),i(!0),delete e.error.$form),Object.keys(e.error).length>0)){var t=void 0!==m&&(0,h.p$)(m);Object.keys(e.error).map((function(n){t[e.fieldsKey[n]].error=e.error[n]})),p(t)}}),[e.error]),(0,a.useEffect)((function(){if(null!=document.querySelector(".slim"))for(var e=document.querySelectorAll("select.slim"),t=0;t<e.length;t+=1)null!=e[t].nextSibling&&e[t].hasAttribute("data-max-show")&&(e[t].nextSibling.children[1].children[1].style.maxHeight=2*Number(e[t].getAttribute("data-max-show"))+"pc")}),[]),(0,c.jsxs)("div",{id:"f-"+e.formId,children:[(0,c.jsxs)("form",{id:"form-"+e.contentID,className:"_frm-bg-"+e.formID,ref:e.refer,method:"POST",encType:e.file?"multipart/form-data":"",onSubmit:function(t){t.preventDefault(),u(!0),n&&i(!1);var a=new FormData(t.target);if(e.GCLID&&a.set("GCLID",e.GCLID()),"v3"===(null==e?void 0:e.gRecaptchaVersion)&&null!=e&&e.gRecaptchaSiteKey)grecaptcha.ready((function(){grecaptcha.execute(e.gRecaptchaSiteKey,{action:"submit"}).then((function(e){a.append("g-recaptcha-response",e);var t=new URL(bitFormsFront.ajaxURL);t.searchParams.append("action","bitforms_submit_form");var n=fetch(t,{method:"POST",body:a});k(n)}))}));else{var l=new URL(bitFormsFront.ajaxURL);l.searchParams.append("action","bitforms_submit_form");var r=fetch(l,{method:"POST",body:a});k(r)}},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[!e.editMode&&(0,c.jsx)("input",{type:"hidden",value:bitFormsFront&&e.nonce,name:"bitforms_token"}),!e.editMode&&(0,c.jsx)("input",{type:"hidden",value:bitFormsFront&&e.appID,name:"bitforms_id"}),e.GCLID&&(0,c.jsx)("input",{type:"hidden",name:"GCLID"}),(0,c.jsxs)("div",{className:"_frm-"+e.formID,children:[(0,c.jsx)("div",{className:"_frm-g _frm-g-"+e.formID,children:j.lg.map((function(t){return function(t){var n,i,a=void 0!==m&&(0,h.p$)(m),l=t.i;return a[t.i].name=l,e.gRecaptchaSiteKey&&null!==e.gRecaptchaSiteKey&&"recaptcha"===a[t.i].typ&&(a[t.i].siteKey=e.gRecaptchaSiteKey),e.fieldToCheck[l]&&(a[t.i].hasWorkflow=!0),S=S>t.y+t.h?S:t.y+t.h,(0,c.jsx)("div",{className:"btcd-fld-itm "+t.i+" "+(null!=(n=a[t.i])&&null!=(i=n.valid)&&i.hide?"btcd-hidden":""),children:(0,c.jsx)(y.Z,{editMode:!0,fieldKey:t.i,atts:a[t.i],formID:e.formID,entryID:e.entryID,onBlurHandler:C,resetFieldValue:T,contentID:e.contentID,fieldData:m,buttonDisabled:"button"===a[t.i].typ&&"submit"===a[t.i].btnTyp&&o,handleReset:"button"===a[t.i].typ&&"reset"===a[t.i].btnTyp&&z})},t.i)}(t)}))}),!e.editMode&&e.buttons&&(0,c.jsx)(y.Z,{atts:e.buttons,entryID:e.entryID,buttonDisabled:o,handleReset:z,contentID:e.contentID,fieldData:m})]})]}),n&&("string"===typeof r?(0,c.jsx)(N,{msg:r,show:n,setSnack:i,error:I}):r.map((function(t,a){return(0,c.jsx)(N,{msg:t,show:n,setSnack:i,error:I,index:a,canClose:r.length-1===a,editMode:e.editMode})})))]})}function N(e){var t=(0,a.useState)(!0),n=t[0],i=t[1],l={userSelect:"none",minWidth:!e.editMode&&150,background:"#383838",padding:"10px 15px",color:"white",borderRadius:"8px",position:"fixed",bottom:20,right:20,left:e.editMode&&20,marginBottom:!e.editMode&&10,paddingRight:40,boxShadow:"1px 5px 11px -3px #0000004d",transition:"right 0.5s",zIndex:9999},r={position:"absolute",top:e.editMode&&-20,right:e.editMode?-15:10,background:e.error?"red":"#666",height:"25px",width:"25px",fontSize:"21px",padding:"3px 6px",color:"white",borderRadius:"50px",lineHeight:"0.8",marginLeft:"7px",cursor:"pointer",float:!e.editMode&&"right",zIndex:9999};return e.index&&e.index>0&&(l.bottom+=2*e.index*45),(0,a.useEffect)((function(){!n&&e.canClose&&e.show?e.setSnack(!1):n||e.index||!e.show||e.setSnack(!1)}),[n]),(0,a.useEffect)((function(){var t=e.error?1e4:5e3,n=setTimeout((function(){e.show&&e.setSnack(!1)}),t);return function(){return clearTimeout(n)}}),[]),n&&(0,c.jsxs)("div",{style:l,children:[(0,c.jsx)("button",{onClick:function(){return i(!1)},style:r,type:"button",children:"×"}),/<\/?[a-z][\s\S]*>/i.test(e.msg)?(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:e.msg}}):e.msg]})}var I=n(5257);function D(e){var t=e.formID,n=e.entryID,i=e.allResp,l=e.setAllResp,r=e.setSnackbar,d=(0,a.useState)(!1),o=d[0],u=d[1],y=(0,a.useState)(!1),b=y[0],h=y[1],x=(0,a.useState)({layout:null,fields:null}),g=x[0],j=x[1],v=(0,a.useState)(null),N=v[0],D=v[1],w=(0,a.useState)(""),T=w[0],L=w[1],S=(0,a.useState)(""),C=S[0],k=S[1],A=(0,a.useRef)(null);(0,a.useEffect)((function(){u(!0),fetch(bits.styleURL+"/bitform-"+t+".css").then((function(e){return e.text()})).then((function(e){return L(e)})),fetch(bits.styleURL+"/bitform-layout-"+t+".css").then((function(e){return e.text()})).then((function(e){return k(e)})),(0,p.Z)({formID:t,entryID:n},"bitforms_edit_form_entry").then((function(e){void 0!==e&&e.success&&j({layout:e.data.layout,fields:e.data.fields,fieldToCheck:e.data.fieldToCheck,conditional:e.data.conditional,fieldsKey:e.data.fieldsKey})}))}),[n,t]);var z=function(n){n.preventDefault(),h(!0);var a=new FormData(A.current),s={formID:t,entryID:e.entryID};(0,p.Z)(a,"bitforms_update_form_entry",void 0,s).then((function(n){if(void 0!==n&&n.success){if(n.data.cron||n.data.cronNotOk){var a=n.data.cron||n.data.cronNotOk;if("string"===typeof a){var s=new URL(a);s.protocol!==window.location.protocol&&(s.protocol=window.location.protocol),fetch(s)}else{var d=new URL(bits.ajaxURL);d.searchParams.append("action","bitforms_trigger_workflow");var o={cronNotOk:a,id:"bitforms_"+t};fetch(d,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}}r({show:!0,msg:n.data.message});for(var c=[].concat(i),u=0;u<c.length;u+=1)if(c[u].entry_id===e.entryID){c[u]=n.data.updatedData;break}l(c)}else n.data&&D(n.data);setTimeout((function(){e.close(!1),h(!1)}),3e3)}))};function _(){return(0,c.jsxs)("button",{onClick:z,disabled:b,type:"button",className:"btn btn-md blue btcd-mdl-hdr-btn",children:["Update",b&&(0,c.jsx)(I.Z,{size:"20",clr:"#fff",className:"ml-2"})]})}return(0,c.jsxs)(m.Z,{hdrActn:(0,c.jsx)(_,{}),lg:!0,show:o,setModal:e.close,title:(0,s.__)("Edit","bitform"),children:[T&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("style",{children:T}),(0,c.jsx)("style",{children:C}),(0,c.jsx)("style",{children:"\n              .drag:not(.no-drg), .drag:active {\n                cursor: default;\n              }\n            "})]}),(0,c.jsx)(f.ZP,{style:{height:"calc(100% - 17px)"},children:null!==g.layout&&(0,c.jsx)(M,{refer:A,editMode:!0,layout:g.layout,data:g.fields,formID:t,entryID:e.entryID,fieldToCheck:g.fieldToCheck,conditional:g.conditional,fieldsKey:g.fieldsKey,error:N})})]})}var w=n(5001);var T=function(e){return(0,c.jsx)("div",{className:"btcd-t-action-wrp flx",children:(0,c.jsxs)("div",{className:"btcd-t-action",children:["dup"in e&&(0,c.jsx)("button",{onClick:e.dup,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Duplicate"'},"aria-label":"action btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-file_copy"})}),"del"in e&&(0,c.jsx)("button",{onClick:e.del,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"action btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-trash-fill"})}),"edit"in e&&(0,c.jsx)("button",{onClick:e.edit,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"action btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-document-edit"})}),(0,c.jsx)("button",{className:"icn-btn btcd-ph-btn","aria-label":"action btn",type:"button",children:(0,c.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-dots-three-horizontal"})})]})})};var L=function(e){return(0,c.jsxs)("div",{className:"btcd-t-link flx mr-2 prevent-drawer",children:[(0,c.jsx)("div",{className:"tooltip",style:{"--tooltip-txt":'"'+e.fname+'"',width:(e.width?e.width:"80")+"px"},children:(0,c.jsxs)("a",{href:""+e.link,rel:"noopener noreferrer",target:"_blank",className:"prevent-drawer",children:[(0,c.jsx)("span",{className:"btcd-icn icn-file"})," ",e.fname]})}),(0,c.jsx)("a",{target:"_blank",href:e.link+"&download",download:!0,rel:"noopener noreferrer","aria-label":"Download",className:"icn-btn icn-btn-sm flx prevent-drawer",children:(0,c.jsx)("span",{className:"btcd-icn icn-file_download"})})]})},S=n(906),C="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGJhc2VQcm9maWxlPSJ0aW55IiB2ZXJzaW9uPSIxLjIiIHZpZXdCb3g9IjAgMCAzOTIuOSA0MDIuMyI+PGRlZnMvPjxwYXRoIGZpbGw9IiNGMUY0RkEiIGQ9Ik00NSAxMjhzNjUtMzggNzgtNjhTMjYyLTIgMzQ3IDk5czI5IDEzMCAxOCAxMzRjLTExIDUtODEgNy0xMTkgMTI5Uzc5IDI5MSA1MyAyODNzLTcxLTEwOS04LTE1NXoiLz48cGF0aCBmaWxsPSIjRjdFRUY1IiBkPSJNMTM5IDM4NEM5NiAzNzQgMTAgMjI3IDAgMTU4czE5OC00MiAyMTUtMjEgOTcgMjUgMTMxIDc5LTE3IDkwLTE2IDk4YzEgMTEtMTQ4IDgxLTE5MSA3MHoiLz48cGF0aCBmaWxsPSIjRERGMUY4IiBkPSJNMjIyIDMyNUg3MmMtOCAwLTE0LTctMTQtMTRWMTAxYzAtOCA2LTE0IDE0LTE0aDE1MGM4IDAgMTQgNiAxNCAxNHYyMTBjMCA4LTYgMTQtMTQgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIyMiAzMjdINzJjLTkgMC0xNi03LTE2LTE2VjEwMWMwLTkgNy0xNyAxNi0xN2gxNTBjOSAwIDE2IDggMTYgMTd2MjEwYzEgOS03IDE2LTE2IDE2ek03MiA4OWMtNiAwLTExIDYtMTEgMTJ2MjEwYzAgNiA1IDExIDExIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxMDFjMS03LTUtMTItMTEtMTJINzJ6Ii8+PHBhdGggZmlsbD0iIzlEQ0JFRCIgZD0iTTExOSAzMjJWMTcxYzAtMTAgOC0xOSAxOS0xOWg5NXYxNjlsLTExNCAxeiIvPjxwYXRoIGZpbGw9IiNGRUZCRTMiIGQ9Ik0yOTMgMzkySDE0M2MtOCAwLTE0LTYtMTQtMTRWMTc2YzAtOCA2LTE0IDE0LTE0aDE1MGM3IDAgMTMgNiAxMyAxM3YyMDNjMSA4LTYgMTQtMTMgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTI5MyAzOTRIMTQzYy05IDAtMTctNy0xNy0xNlYxNzZjMC05IDgtMTcgMTctMTdoMTUwYzkgMCAxNiA3IDE2IDE2djIwM2MwIDktNyAxNi0xNiAxNnpNMTQzIDE2NGMtNyAwLTEyIDUtMTIgMTJ2MjAyYzAgNiA1IDExIDEyIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxNzZjMC03LTUtMTItMTEtMTJIMTQzeiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0xOTUgMTIwSDgzYy0zIDAtNC0yLTQtNXYxYzAtMyAyLTUgNC01aDExMmMyIDAgNCAyIDQgNSAwIDItMiA0LTQgNHptLTY2IDI0YzAtMi0yLTQtNC00SDgzYy0zIDAtNCAyLTQgNHMyIDQgNCA0aDQyYzIgMCA0LTIgNC00em0xNDEgNDRjMC0zLTItNS00LTVIMTUzYy0yIDEtNCAyLTQgNSAwIDIgMiA0IDQgNGgxMTNjMiAwIDQtMiA0LTR6TTI2OCAzNThIMTUzYy0yIDAtNC0yLTQtNSAwLTIgMi00IDQtNGgxMTVjMyAwIDQgMiA0IDQgMCAzLTIgNS00IDV6Ii8+PHBhdGggZD0iTTIyNSAyNThsLTM3IDM4aC0zdi0zbDM4LTM4aDJ2M3oiLz48cGF0aCBkPSJNMjIzIDI5NmwtMzgtMzh2LTNoM2wzNyAzOHYzaC0yeiIvPjxwYXRoIGZpbGw9IiNFOEY0RkMiIGQ9Ik0yNjEgMzA5YTYzIDYzIDAgMTEtOTctODF2MWMyMi0yNyA2Mi0zMSA4OS05IDI3IDIzIDMwIDYyIDggODl6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIxMiAzMzRhNjUgNjUgMCAwMS01MC0xMDYgNjUgNjUgMCAxMTEwMSA4MyA2NSA2NSAwIDAxLTUxIDIzem0xLTEyNmgtNmE2MSA2MSAwIDEwNTMgMTAwaC0xYTYxIDYxIDAgMDAtNDYtMTAweiIvPjxwYXRoIGZpbGw9IiM5RENCRUQiIGQ9Ik0yNTYgMzE2bDExLTEzIDI0IDE5LTEyIDE0eiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0yODAgMzM5bC0yNy0yMiAxNC0xNyAyNyAyMi0xNCAxN3ptLTIxLTIzbDIwIDE3IDktMTAtMjEtMTctOCAxMHoiLz48cGF0aCBmaWxsPSIjRkZFOUM1IiBkPSJNMzY1IDM4MmwtMTMgMTZjLTMgMi03IDMtMTAgMGwtNjMtNTJjLTItMi0zLTYtMS05bDE0LTE2YzItMyA2LTMgOS0xbDYzIDUyYzMgMyAzIDcgMSAxMHoiLz48cGF0aCBmaWxsPSIjMUMyOTU1IiBkPSJNMzQ3IDQwMmwtNi0yLTYzLTUyLTMtNiAyLTYgMTMtMTZjMy00IDktNCAxMi0xbDYzIDUyYzIgMSAzIDMgMyA2IDEgMiAwIDQtMiA2bC0xMyAxNmMtMSAyLTMgMy01IDNoLTF6bS01MC04MWwtNCAxLTEzIDE2LTEgNCAyIDMgNjMgNTIgMyAxIDMtMiAxMy0xNmMxLTEgMi0yIDEtM2wtMS0zLTYzLTUyLTMtMXpNMjQ1IDI0MWE1MCA1MCAwIDAwLTU5LTExbC0yLTNjMC0xIDMzLTE5IDYzIDExbC0yIDN6TTIzMiAyNzBsLTMzIDMyaC0xdi0xbDMyLTMzaDJ2MnptLTIgMzF2LTJsLTMzLTMyaC0ydjFsMzMgMzNoMnoiLz48cGF0aCBmaWxsPSIjQTRBREQ4IiBkPSJNODAgNTFINjVWMzZoMTV2MTV6bS0xMy0yaDExVjM4SDY3djExeiIvPjxwYXRoIGZpbGw9IiNCQUQyRUUiIGQ9Ik0yNzkgMTI5YTcgNyAwIDExMC0xNCA3IDcgMCAxMTAgMTR6bTAtMTJjLTMgMC02IDItNiA1czMgNSA2IDUgNS0yIDUtNS0yLTUtNS01eiIvPjxwYXRoIGZpbGw9IiM5RTlEOUUiIGQ9Ik0zNTQgMjYzbC0zLTUtNS0zIDUtMyAzLTUgMyA1IDUgMy01IDMtMyA1em0tMy04bDIgMSAxIDMgMi0zIDItMS0yLTEtMi0zLTEgMy0yIDF6Ii8+PHBhdGggZmlsbD0iI0NFRDhFRSIgZD0iTTI3MCAxNmwtMy01LTUtMyA1LTMgMy01IDMgNSA1IDMtNSAzLTMgNXptLTQtOGwyIDEgMiAyIDEtMiAyLTEtMi0xLTEtMy0yIDMtMiAxeiIvPjxwYXRoIGZpbGw9IiNGQ0RDRTUiIGQ9Ik0yNSAyNTJIOGw5LTE1IDggMTV6bS0xMy0yaDEwbC01LTktNSA5ek0xNzcgNjloLTJWNTdoMnYxMnptNS03aC0xMnYyaDEydi0yeiIvPjwvc3ZnPg==",k=n(8381);function A(e){var t=e.formID,n=e.entryID,i=e.allLabels,l=e.showForm,r=e.setShowForm,d=e.setSnackbar,o=e.setFetchData,u=e.data,f=e.setData,m=Boolean(u.noteID),y=(0,a.useState)(!1),b=y[0],h=y[1],x=(0,a.useRef)(null),g=(0,a.useState)(u.title),j=g[0],v=g[1],M=(0,a.useState)(u.content),N=M[0],D=M[1];(0,a.useEffect)((function(){window.tinymce&&tinymce.remove()}),[]),(0,a.useEffect)((function(){"undefined"!==typeof tinymce&&i.length>0&&tinymce.init({selector:"#body-content",plugins:"link hr lists wpview wpemoji",theme:"modern",menubar:!1,branding:!1,resize:"verticle",min_width:300,toolbar:"formatselect bold italic | alignleft aligncenter alignright | outdent indent | link | undo redo | hr | addFormField | toggleCode",setup:function(e){e.on("Paste Change input Undo Redo",(function(){w(e.getContent())})),e.addButton("addFormField",{text:(0,s.__)("Form Fields ","bitform"),tooltip:(0,s.__)("Add Form Field Value in Message","bitform"),type:"menubutton",icon:!1,menu:i.map((function(t){return!t.type.match(/^(file-up|recaptcha)$/)&&{text:t.adminLbl,onClick:function(){e.insertContent("${"+t.key+"}")}}}))}),e.addButton("toogleCode",{text:"</>",tooltip:(0,s.__)("Toggle preview","bitform"),icon:!1,onclick:function(t){var n=tinymce.dom.DomQuery,i=n("textarea"),a=n(e.iframeElement);i.value=e.getContent({source_view:!0}),a.toggleClass("hidden"),i.toggleClass("visible"),n("iframe.hidden").length>0?i.prependTo(".mce-edit-area"):(a.value=i.value,i.appendTo("body"))}})}})}),[i,l]);var w=function(e){D(e)},T=function(){r(!1),f({title:"",content:""})};return(0,c.jsxs)("div",{className:"mt-2 w-7",children:[(0,c.jsxs)("b",{children:[m?(0,s.__)("Edit Note ","bitform"):(0,s.__)("Create New Note ","bitform"),(0,c.jsx)("button",{type:"button",className:"btn",onClick:function(){return m?T():r(!1)},style:{fontSize:16},children:"x"})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("form",{ref:x,method:"POST",onSubmit:function(e){if(e.preventDefault(),N){h(!0);var i=new FormData(x.current);if(m){var a={noteID:u.noteID,formID:t,entryID:n};(0,p.Z)(i,"bitforms_form_entry_update_note","multipart/form-data",a).then((function(e){void 0!==e&&e.success&&(d({show:!0,msg:(0,s.__)("Note Updated Successfully","bitform")}),T(),o(!0)),h(!1)}))}else{var l={formID:t,entryID:n};(0,p.Z)(i,"bitforms_form_entry_create_note","multipart/form-data",l).then((function(e){void 0!==e&&e.success&&(d({show:!0,msg:(0,s.__)("Note Added Successfully","bitform")}),v(""),tinymce.get("body-content").setContent(""),o(!0)),h(!1)}))}}else tinymce.get("body-content").focus()},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[(0,c.jsx)("input",{type:"text",name:"title",className:"btcd-paper-inp mt-2",placeholder:"Note Title",value:j,onChange:function(e){return t=e.target.value,void v(t);var t}}),(0,c.jsx)("textarea",{rows:"5",name:"content",id:"body-content",className:"btcd-paper-inp mt-2",placeholder:"Note Content",defaultValue:N}),m&&(0,c.jsx)("button",{type:"button",className:"btn btn-md mr-2",onClick:T,children:(0,s.__)("Cancel","bitform")}),(0,c.jsxs)("button",{type:"submit",className:"btn btn-md blue",disabled:b,children:[m?(0,s.__)("Edit","bitform"):(0,s.__)("Add","bitform")," ",(0,s.__)("Note","bitform"),b&&(0,c.jsx)(I.Z,{size:"20",clr:"#fff",className:"ml-2"})]})]})]})}function z(e){var t=e.formID,n=e.entryID,l=e.allLabels,r=e.setSnackbar,o=e.rowDtl,u=e.settab,f="undefined"!==typeof bits&&bits.isPro,m=bits.dateFormat+" "+bits.timeFormat,y=(0,a.useState)(!1),b=y[0],x=y[1],g=(0,a.useState)({show:!1}),j=g[0],v=g[1],M=(0,a.useState)(!1),N=M[0],D=M[1],w=(0,a.useState)([]),T=w[0],L=w[1],S=(0,a.useState)(!1),z=S[0],_=S[1],E=(0,a.useState)(!1),O=E[0],Z=E[1],F=(0,a.useState)({title:"",content:""}),Y=F[0],R=F[1];(0,a.useEffect)((function(){u("note"),f&&x("allNotes"),_(!0)}),[]),(0,a.useEffect)((function(){O?Z(!1):f&&(0,p.Z)({formID:t,entryID:n},"bitforms_form_entry_get_notes").then((function(e){void 0!==e&&e.success&&L(e.data),x(!1)}))}),[O]),(0,a.useEffect)((function(){Y.content&&D(!0)}),[Y]);var K=function(){j.show=!1,v((0,i.Z)({},j))},B=function(e){for(var t=e.match(/\${\w[^ ${}]*}/g),n=(null==t||null==t.filter?void 0:t.filter((function(e,n){return t.indexOf(e)===n})))||[],i=e,a=0;a<n.length;a+=1){var l=n[a].slice(2,-1);i=i.replaceAll(n[a],l in o?o[l]:"[Field Deleted]")}return i},U=function(e){var t=JSON.parse(e.info_details),n="delete"===b&&j.noteID===e.id;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[e.updated_at?(0,c.jsxs)("small",{children:[(0,s.__)("updated on:","bitform")," "+(0,h.CI)(e.updated_at,m)]}):(0,c.jsxs)("small",{children:[(0,s.__)("created at:","bitform")," "+(0,h.CI)(e.created_at,m)]}),(0,c.jsx)("button",{type:"button",className:"icn-btn ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,s.__)("Edit","bitform")+"'",fontSize:16},onClick:function(){return function(e){D(!1);var t=T.find((function(t){return t.id===e})),n=JSON.parse(t.info_details),i=n.title,a=n.content;R({noteID:e,title:i,content:a})}(e.id)},children:(0,c.jsx)("span",{className:"btcd-icn icn-document-edit"})}),(0,c.jsxs)("button",{type:"button",onClick:function(){return t=e.id,j.noteID=t,j.show=!0,void v((0,i.Z)({},j));var t},className:(n?"btn":"icn-btn")+" ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,s.__)("Delete","bitform")+"'",fontSize:16},disabled:n,children:[(0,c.jsx)("span",{className:"btcd-icn icn-trash-fill"}),n&&(0,c.jsx)(I.Z,{size:"20",clr:"#000",className:"ml-2"})]})]}),(0,c.jsxs)("div",{children:[t.title&&(0,c.jsx)("h3",{children:t.title}),(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:B(t.content)}})]}),(0,c.jsx)("hr",{className:"btcd-hr"})]},e.id)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"pos-rel",children:[!f&&(0,c.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,c.jsxs)("div",{className:"pro",children:[(0,s.__)("Available On","bitform"),(0,c.jsx)("a",{href:"https://bitpress.pro/",target:"_blank",rel:"noreferrer",children:(0,c.jsxs)("span",{className:"txt-pro",children:[" ",(0,s.__)("Premium","bitform")]})})]})}),N?(0,c.jsx)(A,{formID:t,entryID:n,allLabels:l,showForm:N,setShowForm:D,setSnackbar:r,setFetchData:Z,data:Y,setData:R}):(0,c.jsx)("button",{type:"button",className:"btn",onClick:function(){return D(!0)},children:(0,s.__)("create new note","bitform")}),"allNotes"===b?(0,c.jsx)(k.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):T.length?T.map((function(e){return U(e)})):z&&(0,c.jsx)("img",{src:C,alt:"no data found",style:{height:150,width:"100%"}})]}),(0,c.jsxs)(d.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"red",btnTxt:"Ok",show:j.show,close:K,action:function(){x("delete"),K(),(0,p.Z)({noteID:j.noteID,formID:t,entryID:n},"bitforms_form_entry_delete_note").then((function(e){void 0!==e&&e.success&&(r({show:!0,msg:(0,s.__)("Note Deleted Successfully","bitform")}),Z(!0)),x(!1)}))},title:(0,s.__)("Confirmation","bitform"),children:[(0,c.jsx)("div",{className:"txt-center mt-5 mb-4",children:(0,s.__)("Are you sure to delete this note","bitform")}),b&&(0,c.jsx)(k.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}})]})]})}function _(e){var t=e.paymentInfo,n=bits.dateFormat+" "+bits.timeFormat;return(0,c.jsx)("div",{children:null!=t&&t.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:(0,s.__)("PayPal","bitform")}),t.map((function(e){return function(e){var t=JSON.parse(e.payment_response),i="subscriber"in t,a=i?t.subscriber:t.payer,l=i?t.billing_info.last_payment.amount:t.purchase_units[0].amount;return(0,c.jsxs)("div",{children:[(0,c.jsx)("small",{children:(0,h.CI)(t.create_time,n)}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,s.__)("Type","bitform")+": "+(i?(0,s.__)("Subscription","biform"):(0,s.__)("Order","bitform"))}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,c.jsx)("b",{children:(0,s.__)("Transaction ID","bitform")+": "+t.id})}),(0,c.jsx)("h3",{children:a.name.given_name+" "+a.name.surname}),(0,c.jsx)("small",{children:a.email_address}),i&&(0,c.jsx)("h4",{children:(0,s.__)("Plan ID","bitform")+": "+t.plan_id}),i&&(0,c.jsxs)("small",{children:[(0,s.__)("Next Billing Time","bitform"),":"," ",(0,h.CI)(t.billing_info.next_billing_time,n)]}),(0,c.jsxs)("p",{children:[(0,s.__)("Total Paid","bitform"),":"," ",l.value," ",l.currency_code]})]},t.id)}(e)}))]}):(0,c.jsx)("img",{src:C,alt:(0,s.__)("no data found","bitform"),style:{height:150,width:"100%"}})})}function E(e){var t=e.paymentInfo,n=bits.dateFormat+" "+bits.timeFormat;return(0,c.jsx)("div",{children:null!=t&&t.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:(0,s.__)("Razorpay","bitform")}),t.map((function(e){return function(e){var t=JSON.parse(e.payment_response),i=1e3*t.created_at;return(0,c.jsxs)("div",{children:[(0,c.jsx)("small",{children:(0,h.CI)(i,n)}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,s.__)("Status","bitform")+": "+t.status}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,c.jsx)("b",{children:(0,s.__)("Transaction ID","bitform")+": "+t.id})}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,s.__)("Email","bitform")+": "+t.email}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("small",{children:(0,s.__)("Contact","bitform")+": "+t.contact}),(0,c.jsx)("br",{}),(0,c.jsxs)("p",{children:[(0,s.__)("Total Paid","bitform"),":"," ",t.amount/100," ",t.currency]})]},t.id)}(e)}))]}):(0,c.jsx)("img",{src:C,alt:(0,s.__)("no data found","bitform"),style:{height:150,width:"100%"}})})}var O=n(4017);function Z(e){var t=e.formID,n=e.rowDtl,i=e.settab,l=(0,r.sJ)(O.A0),d="undefined"!==typeof bits&&bits.isPro,o=(0,a.useState)([]),u=o[0],f=o[1],m=(0,a.useState)(!1),y=m[0],b=m[1],h=/paypal|razorpay/,x=l.filter((function(e){return e.type.match(h)})).find((function(e){return n[e.key]}));(0,a.useEffect)((function(){if(i("payment"),d){b(!0);var e=null==n?void 0:n[null==x?void 0:x.key];(0,p.Z)({formID:t,transactionID:e},"bitforms_payment_details").then((function(e){f(e.data),b(!1)}))}}),[]);return(0,c.jsxs)("div",{className:"pos-rel",children:[!d&&(0,c.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,c.jsxs)("div",{className:"pro",children:[(0,s.__)("Available On","bitform"),(0,c.jsx)("a",{href:"https://bitpress.pro/",target:"_blank",rel:"noreferrer",children:(0,c.jsxs)("span",{className:"txt-pro",children:[" ",(0,s.__)("Premium","bitform")]})})]})}),y?(0,c.jsx)(k.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):function(){switch(null==x?void 0:x.type){case"paypal":return(0,c.jsx)(_,{paymentInfo:u});case"razorpay":return(0,c.jsx)(E,{paymentInfo:u});default:return(0,c.jsx)("h1",{children:(0,s.__)("No Payment Info Found!","bitform")})}}()]})}var F=n(9151);function Y(e){var t=e.formID,n=e.entryID,i=e.settab,l=e.integrations,d=bits.dateFormat+" "+bits.timeFormat,o=(0,r.sJ)(O.A0),u=(0,a.useState)([]),f=u[0],m=u[1],y=(0,a.useState)([]),b=y[0],x=y[1],g=(0,a.useState)([]),j=g[0],v=g[1],M=(0,a.useState)(!1),N=M[0],I=M[1],D=(0,a.useState)({show:!1,msg:""}),T=D[0],L=D[1];(0,a.useEffect)((function(){i("timeline"),I(!0),(0,p.Z)({formID:t,entryID:n},"bitforms_form_log_history").then((function(e){void 0!==e&&e.success&&(m(e.data),x(e.integrations)),I(!1)}))}),[]);var S=function(e){var t,n=/\${\w[^ ${}]*}/g,i=(null==(t=e.match(n))?void 0:t[0])||"",a=i?o.find((function(e){return"${"+e.key+"}"===i})):"",l=a?a.adminLbl:"",r=l?e.replace(n,l):"";return r?r.replace(/[\]["]/g,""):"Field Deleted"},C=function(e){j.push(e),v([].concat(j))},A=function(e){var t=[].concat(j);t.splice(t.indexOf(e),1),v([].concat(t))},z=function(e){var t,n=j.find((function(t){return t===e.id})),i={};b.map((function(t){var n,a=null==(n=l.find((function(e){return e.id===t.integration_id})))?void 0:n.name;if(a)i[a]||(i[a]=[]),e.id===t.log_id&&i[a].push(t);else if(Number(t.integration_id)&&e.id===t.log_id){var r=JSON.parse(t.api_type);"ReCaptcha v3"===(a=r.type_name+" "+r.type)&&(i[a]=[t])}}));return(0,c.jsxs)("div",{children:[null===e.content&&"update"===e.action_type?(0,c.jsx)("p",{children:(0,s.__)("No field data change","bitform")}):null===e.content&&"create"===e.action_type?(0,c.jsx)("p",{children:(0,s.__)("Form Submitted","bitform")}):e.content.split("b::f").map((function(e){return(0,c.jsxs)("p",{children:[" ",(0,c.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}}),S(e)]},e)})),(null==(t=Object.keys(i))?void 0:t.length)&&(0,c.jsxs)(c.Fragment,{children:[!n&&e.integration&&(0,c.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return C(e.id)},onKeyDown:function(){return C(e.id)},children:(0,s.__)("Show Integration Logs","bitform")}),n&&e.integration&&(0,c.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return A(e.id)},onKeyDown:function(){return A(e.id)},children:(0,s.__)("Hide Integration Logs","bitform")}),n&&e.integration&&_(i)]})]})},_=function(e){return Object.keys(e).map((function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h5",{children:t+" - "}),(0,c.jsx)("div",{className:"m-0 ml-6",children:e[t].map((function(e){var t=JSON.parse(e.api_type);return(0,c.jsxs)("div",{className:"flx",children:[(0,c.jsx)("p",{className:"mr-2",children:t.type_name+" "+t.type+" "+e.response_type}),(0,c.jsx)(F.Z,{value:e.response_obj,className:"field-key-cpy w-0 ml-0",setSnackbar:L,readOnly:!0})]})}))})]})}))},E=function(e){var t,n,i=j.find((function(t){return t===e.id})),a=JSON.parse(e.content);return null!==e.content?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("p",{children:[(0,s.__)("Note","bitform")," ","create"===e.action_type&&(0,s.__)("Added","bitform"),"update"===e.action_type&&(0,s.__)("Updated","bitform"),"delete"===e.action_type&&(0,s.__)("Deleted","bitform"),":"]}),a.title&&(0,c.jsx)("h4",{children:a.title}),(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:i?a.content:(t=a.content,n=20,t.length>n?t.substr(0,n-1)+"&hellip;":t)}}),!i&&a.content.length>20&&(0,c.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return C(e.id)},onKeyDown:function(){return C(e.id)},children:(0,s.__)("Read More","bitform")}),i&&(0,c.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return A(e.id)},onKeyDown:function(){return A(e.id)},children:(0,s.__)("Show Less","bitform")})]}):null===e.content&&"update"===e.action_type?(0,c.jsx)("p",{children:(0,s.__)("Note no change","bitform")}):void 0};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.Z,{snack:T,setSnackbar:L}),N?(0,c.jsx)(k.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):f.map((function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:(0,h.CI)(e.created_at,d)}),(0,c.jsx)("div",{children:"entry"===e.log_type?z(e):E(e)})]},e.id)}))]})}var R=(0,a.memo)(Y);function K(e){var t,n,i,l,r,s,d,o,u,f,m,y,b,h,x,g,j=e.settab,v=e.rowDtl,M=(0,a.useState)([]),N=M[0],I=M[1],D=(0,a.useState)(!1),w=D[0],T=D[1];return(0,a.useEffect)((function(){j("google_ad"),T(!0),(0,p.Z)({gclid:null==v?void 0:v.GCLID},"bitforms_get_gclid_info").then((function(e){void 0!==e&&e.success&&e.data[0]&&I(JSON.parse(e.data[0].gclid_response)),T(!1)}))}),[]),(0,c.jsx)(c.Fragment,{children:w?(0,c.jsx)(k.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):(0,c.jsx)("div",{children:(0,c.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Account"}),(0,c.jsx)("td",{className:"td",children:null==(t=N["@attributes"])?void 0:t.account})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Campaign ID"}),(0,c.jsx)("td",{className:"td",children:null==(n=N["@attributes"])?void 0:n.campaignID})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"AdGroup Id"}),(0,c.jsx)("td",{className:"td",children:null==(i=N["@attributes"])?void 0:i.adGroupID})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Ad Id"}),(0,c.jsx)("td",{className:"td",children:null==(l=N["@attributes"])?void 0:l.adID})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Keyword Id"}),(0,c.jsx)("td",{className:"td",children:null==(r=N["@attributes"])?void 0:r.keywordID})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Keyword"}),(0,c.jsx)("td",{className:"td",children:null==(s=N["@attributes"])?void 0:s.CriteriaParameters})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Match type"}),(0,c.jsx)("td",{className:"td",children:null==(d=N["@attributes"])?void 0:d.KeywordMatchType})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Click type"}),(0,c.jsx)("td",{className:"td",children:null==(o=N["@attributes"])?void 0:o.clickType})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Device Type"}),(0,c.jsx)("td",{className:"td",children:null==(u=N["@attributes"])?void 0:u.device})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Search Partner Network"}),(0,c.jsx)("td",{className:"td",children:null==(f=N["@attributes"])?void 0:f.networkWithSearchPartners})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Ad Campaign Name"}),(0,c.jsx)("td",{className:"td",children:null==(m=N["@attributes"])?void 0:m.campaign})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Ad group Name"}),(0,c.jsx)("td",{className:"td",children:null==(y=N["@attributes"])?void 0:y.adGroup})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Ad Network"}),(0,c.jsx)("td",{className:"td",children:null==(b=N["@attributes"])?void 0:b.network})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Ad Click Date"}),(0,c.jsx)("td",{className:"td",children:null==(h=N["@attributes"])?void 0:h.day})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"Customer ID"}),(0,c.jsx)("td",{className:"td",children:null==(x=N["@attributes"])?void 0:x.customerID})]}),(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("td",{className:"td",children:"GCLID"}),(0,c.jsx)("td",{className:"td",children:null==(g=N["@attributes"])?void 0:g.googleClickID})]})]})})})})}function B(e){var t=e.formID,n=e.entryID,i=e.rowDtl,l=e.setSnackbar,d=e.integrations,o=e.close,u=(0,r.sJ)(O.A0),f=(0,a.useState)(""),p=f[0],y=f[1],b=/paypal|razorpay/,h=u.filter((function(e){return e.type.match(b)}));return(0,c.jsx)(m.Z,{lg:!0,show:!0,setModal:o,title:(0,s.__)("Related Info","bitform"),children:(0,c.jsxs)(S.mQ,{children:[null!=h&&h.length?(0,c.jsx)(S.OK,{children:(0,c.jsx)("button",{className:"btcd-s-tab-link "+("payment"===p&&"s-t-l-active"),type:"button",children:(0,s.__)("Payment","bitform")})}):"",(0,c.jsx)(S.OK,{children:(0,c.jsx)("button",{className:"btcd-s-tab-link "+("timeline"===p&&"s-t-l-active"),type:"button",children:(0,s.__)("Timeline","bitform")})}),(0,c.jsx)(S.OK,{children:(0,c.jsx)("button",{className:"btcd-s-tab-link "+("note"===p&&"s-t-l-active"),type:"button",children:(0,s.__)("Notes","bitform")})}),null!=i&&i.GCLID?(0,c.jsx)(S.OK,{children:(0,c.jsx)("button",{className:"btcd-s-tab-link "+("google_ad"===p&&"s-t-l-active"),type:"button",children:(0,s.__)("Google Ads Information","bitform")})}):"",null!=h&&h.length?(0,c.jsx)(S.s_,{children:(0,c.jsx)(Z,{formID:t,rowDtl:i,settab:y})}):"",(0,c.jsx)(S.s_,{children:(0,c.jsx)(R,{formID:t,entryID:n,settab:y,integrations:d})}),(0,c.jsx)(S.s_,{children:(0,c.jsx)(z,{formID:t,entryID:n,allLabels:u,setSnackbar:l,rowDtl:i,settab:y})}),null!=i&&i.GCLID?(0,c.jsx)(S.s_,{children:(0,c.jsx)(K,{rowDtl:i,settab:y})}):""]})})}var U=(0,a.memo)(B),Q=n(4735),P=n(3218);function G(e){var t=e.allResp,n=e.setAllResp,o=e.integrations,f=(0,r.sJ)(O.A0),m=(0,a.useState)({show:!1,msg:""}),y=m[0],b=m[1],x=(0,a.useState)(!1),g=x[0],j=x[1],v=(0,l.UO)().formID,M=(0,a.useRef)(0),N=(0,a.useState)(0),I=N[0],S=N[1],k=(0,a.useState)(!1),A=k[0],z=k[1],_=(0,a.useState)(!1),E=_[0],Z=_[1],F=(0,a.useState)(null),Y=F[0],R=F[1],K=(0,a.useState)({show:!1,data:{}}),B=K[0],G=K[1],J=(0,a.useState)({show:!1}),H=J[0],V=J[1],W=(0,a.useState)([]),X=W[0],q=W[1],$=(0,a.useContext)(P.l).reportsData,ee=(0,a.useContext)(P.l).allFormsData,te=$.reports,ne=ee.allFormsDispatchHandler,ie=(0,a.useState)(0),ae=ie[0],le=ie[1],re=(0,a.useState)(0),se=re[0],de=re[1];(0,a.useEffect)((function(){if(te.length>0){var e,t,n,i={};f.map((function(e){i[e.key]=e}));var a=[];null==te||null==(e=te[0])||null==(t=e.details)||null==(n=t.order)||n.forEach((function(e){e&&"sl"!==e&&"selection"!==e&&"table_ac"!==e&&void 0!==i[e]&&a.push(i[e])})),ye(a)}else f.length>0&&ye(f)}),[]);var oe=(0,a.useCallback)((function(){H.show=!1,V((0,i.Z)({},H))}),[H]),ce=(0,a.useCallback)((function(e,t,i){var a=[],l=[];if("object"===typeof e[0])for(var r=0;r<e.length;r+=1)a[e[r].original.entry_id]=e[r].id,l.push(e[r].original.entry_id);else a[e.original.entry_id]=e.id,l.push(e.original.entry_id);var s=(0,h.p$)(t),d={formID:v,entries:l};(0,p.Z)(d,"bitforms_duplicate_form_entries").then((function(e){if(e.success&&"undefined"!==e.data.message){var t,l,r;if(i&&i.fetchData&&i.data)i.fetchData(i.data);else null==(t=Object.entries((null==e||null==(l=e.data)?void 0:l.details)||{}))||t.forEach((function(e){var t=e[0],n=e[1];duplicatedEntryCount+=1,(r=JSON.parse(JSON.stringify(s[a[t]]))).entry_id=n,s[a[t]].entry_id=t,s.unshift(r),s.pop()})),n(s);b({show:!0,msg:e.data.message})}}))}),[]),ue=(0,a.useCallback)((function(e,t,n){H.btnTxt=(0,s.__)("Duplicate","bitform"),H.btnClass="blue",H.body=(0,s.__)("Are you sure to duplicate this entry?","bitform"),H.action=function(){ce(e,t,n),oe()},H.show=!0,V((0,i.Z)({},H))}),[ce,oe,H]),fe=(0,a.useCallback)((function(){B.show=!1,G((0,i.Z)({},B))}),[B]),me=(0,a.useCallback)((function(e,t){var n=[],i=[];if("object"===typeof e[0])for(var a=0;a<e.length;a+=1)n.push(e[a].id),i.push(e[a].original.entry_id);else n.push(e.id),i.push(e.original.entry_id);var l={formID:v,entries:i};(0,p.Z)(l,"bitforms_bulk_delete_form_entries").then((function(e){e.success&&(t&&t.fetchData&&t.data&&t.fetchData(t.data),b({show:!0,msg:e.data.message}))}))}),[]),pe=(0,a.useCallback)((function(e,t){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),H.btnTxt="Delete",H.body="Are you sure to delete this entry",H.btnClass="",H.action=function(){me(e,t),oe(),fe()},H.show=!0,V((0,i.Z)({},H))}),[oe,fe,H,me]),ye=function(e){var t=e.map((function(e){return(0,i.Z)({Header:e.adminLbl||e.name||e.key,accessor:e.key,fieldType:e.type,minWidth:50},"type"in e&&e.type.match(/^(file-up|check|select)$/)&&{Cell:function(t){if(null!==t.cell.value&&void 0!==t.cell.value&&""!==t.cell.value){if("file-up"===e.type)return JSON.parse(t.cell.value).map((function(e,n){return(0,c.jsx)(L,{fname:e,link:bits.baseDLURL+"formID="+v+"&entryID="+t.cell.row.original.entry_id+"&fileID="+e},"file-n-"+(t.cell.row.index+n))}));if("check"===e.type||"select"===e.type){var n="string"===typeof t.cell.value&&t.cell.value.length>0&&"["===t.cell.value[0]?JSON.parse(t.cell.value):void 0!==t.cell.value&&t.cell.value.split(",");return n.map((function(e,t){return t<n.length-1?e+",":e}))}}return null}})}));t.unshift({Header:"#",accessor:"sl",Cell:function(e){return(0,c.jsx)(c.Fragment,{children:Number(e.state.pageIndex*e.state.pageSize)+Number(e.row.id)+1})},width:40}),t.push({id:"t_action",width:70,maxWidth:70,minWidth:70,sticky:"right",Header:(0,c.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-settings ml-2",title:(0,s.__)("Settings","bitform")}),accessor:"table_ac",Cell:function(e){return(0,c.jsx)(T,{edit:function(){return be(e.row)},del:function(){return pe(e.row,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})},dup:function(){return ue(e.row,e.data,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})}})}}),q(t)},be=(0,a.useCallback)((function(e){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),R(e.original.entry_id),z(!0)}),[]),he=(0,a.useCallback)((function(e){var i=e.pageSize,a=e.pageIndex,l=e.sortBy,r=e.filters,s=e.globalFilter;if(se)return de(0),void j(!0);var d=++M.current;if(t.length<1&&j(!0),d===M.current){var o=i*a;(0,p.Z)({id:v,offset:o,pageSize:i,sortBy:l,filters:r,globalFilter:s},"bitforms_get_form_entries").then((function(e){null!=e&&e.success&&(S(Math.ceil(e.data.count/i)),le(e.data.count),n(e.data.entries)),ne({type:"update",data:{formID:v,entries:e.data.count}}),j(!1)}))}}),[pe,ue,be,v,se]),xe=(0,a.useCallback)((function(e,t,n,a){if(!e.target.classList.contains("prevent-drawer")){var l=(0,i.Z)({},B);l.show&&B.idx===n?l.show=!1:(l.data=t,l.idx=n,l.fetchData=a,l.show=!0),G((0,i.Z)({},l))}}),[B]),ge=function(e){var n,i,a,l;return"file-up"===e.fieldType?(null==(i=t[B.idx])?void 0:i[e.accessor])&&(null==(a=JSON.parse(t[B.idx][e.accessor]))?void 0:a.map((function(e,n){return(0,c.jsx)(L,{fname:e,width:"100",link:bits.baseDLURL+"formID="+v+"&entryID="+t[B.idx].entry_id+"&fileID="+e},"file-n-"+(n+1.1))}))):"color"===e.fieldType?(0,c.jsxs)("div",{className:"flx",children:[t[B.idx][e.accessor],(0,c.jsx)("span",{style:{background:t[B.idx][e.accessor],height:20,width:20,borderRadius:5,display:"inline-block",marginLeft:10}})]}):"check"===e.fieldType?(null==(l=t[B.idx])?void 0:l[e.accessor])&&t[B.idx][e.accessor].replace(/\[|\]|"/g,""):null==t||null==(n=t[B.idx])?void 0:n[e.accessor]};return(0,c.jsxs)("div",{id:"form-res",children:[(0,c.jsxs)("div",{className:"af-header flx",children:[(0,c.jsx)("h2",{children:(0,s.__)("Form Responses","bitform")}),(0,c.jsx)("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",onClick:function(){return de(1)},style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Form Responses","bitform")+"'"},type:"button",disabled:g,children:"↻"})]}),(0,c.jsx)(w.Z,{snack:y,setSnackbar:b}),(0,c.jsx)(d.Z,{show:H.show,close:oe,btnTxt:H.btnTxt,btnClass:H.btnClass,body:H.body,action:H.action}),A&&(0,c.jsx)(D,{close:z,formID:v,entryID:Y,allResp:t,setAllResp:n,setSnackbar:b}),E&&(0,c.jsx)(U,{close:Z,formID:v,entryID:Y,setSnackbar:b,rowDtl:t[B.idx],integrations:o}),(0,c.jsx)(u,{title:(0,s.__)("Response Details","bitform"),show:B.show,close:fe,relatedinfo:function(){return void 0!==(e=B).idx&&(e.id=e.idx,e.original=e.data[0].row.original),R(e.original.entry_id),void Z(!0);var e},delConfMdl:function(){return pe(B,B.fetchData)},editData:function(){return be(B)},children:(0,c.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"txt-dp",children:[(0,c.jsx)("th",{children:(0,s.__)("Title","")}),(0,c.jsx)("th",{children:(0,s.__)("Value","")})]}),B.show&&X.slice(1).slice(0,-1).map((function(e,t){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:e.Header}),(0,c.jsx)("td",{children:ge(e)})]},"rw-d-"+(t+2))}))]})})}),(0,c.jsxs)("div",{className:"forms",children:[(0,c.jsx)(Q.Z,{className:"f-table btcd-entries-f",height:"60vh",columns:X,data:t,loading:g,countEntries:ae,rowSeletable:!0,resizable:!0,columnHidable:!0,hasAction:!0,rowClickable:!0,exportImportMenu:!0,formID:v,setTableCols:q,fetchData:he,setBulkDelete:me,duplicateData:ce,pageCount:I,edit:be,onRowClick:xe,report:0}),!g&&0===t.length&&(0,c.jsxs)("div",{className:"btcd-no-data txt-center",children:[(0,c.jsx)("img",{src:C,alt:"no data found"}),(0,c.jsx)("div",{className:"mt-2",children:(0,s.__)("No Response Found.","bitform")})]})]})]})}var J=(0,a.memo)(G)},92:function(e,t,n){"use strict";n.r(t),n.d(t,{delItem:function(){return s},setPrevData:function(){return d},handleFile:function(){return o}});var i=n(6972),a={files:[]},l=null;function r(e){for(var t=0;e>900;)e/=1024,t+=1;return Math.round(100*e)/100+" "+["Bytes","KB","MB","GB"][t]}function s(e){a={files:[]};for(var t=e.parentNode.parentNode.parentNode.querySelector('input[type="file"]'),n=0;n<t.files.length;n+=1)a.files.push(t.files[n]);a.files.splice(e.getAttribute("data-index"),1),t.files=i.Z.apply(void 0,a.files),t.files.length>0?e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML=t.files.length+" File Selected":e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML="No File Chosen",e.parentNode.remove()}function d(e){if(e.target.hasAttribute("multiple")&&null!==e.target.name&&(a={files:[]},e.target.files.length>0))for(var t=0;t<e.target.files.length;t+=1)a.files.push(e.target.files[t])}function o(e){var t=[],n=e.target.files.length;if(l=null!=(l=e.target.parentNode.querySelector(".f-max"))&&Number(l.innerHTML.replace(/\D/g,""))*Math.pow(1024,2),e.target.hasAttribute("multiple"))for(var s=0;s<n;s+=1)a.files.push(e.target.files[s]);else a.files.push(e.target.files[0]);if(e.target.hasAttribute("accept")){for(var d=[],o=new RegExp(e.target.getAttribute("accept").split(",").join("$|")+"$","gi"),c=0;c<a.files.length;c+=1)a.files[c].name.match(o)?d.push(a.files[c]):t.push("Wrong File Type Selected");a.files=d}if(l>0){for(var u=[],f=0;f<a.files.length;f+=1)a.files[f].size<l?(u.push(a.files[f]),l-=a.files[f].size):t.push("Max Upload Size Exceeded");a.files=u}if(e.target.hasAttribute("multiple")?e.target.files=i.Z.apply(void 0,a.files):(e.target.files=(0,i.Z)(a.files[a.files.length-1]),a={files:[]}),e.target.files.length>0){e.target.parentNode.querySelector(".btcd-f-title").innerHTML=e.target.files.length+" File Selected",e.target.parentNode.parentNode.querySelector(".btcd-files").innerHTML="";for(var m=0;m<e.target.files.length;m+=1){var p=null;p=e.target.files[m].type.match(/image-*/)?window.URL.createObjectURL(e.target.files[m]):"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzNTIgNDI5LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM1MiA0MjkuMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzAwNEJCNzt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTQwOC44LDY2Ljh2MzI3LjRjMCwyNy40LDIyLjgsNDkuOCw1MC4zLDQ5LjhoMjM5LjNjMjcuNSwwLDQ5LjgtMjIuMyw0OS44LTQ5LjhWMTE2Yy0wLjEtMi42LTEuMi01LjItMy4xLTdsLTg4LjktODkuMQ0KCWMtMS45LTEuOS00LjQtMi45LTcuMS0yLjloLTE5MEM0MzEuNiwxNyw0MDguOCwzOS40LDQwOC44LDY2Ljh6IE03MTMuOCwxMDUuOUg2ODNjLTYuMywwLTEyLjQtMi41LTE2LjgtNi45DQoJYy00LjUtNC41LTctMTAuNS02LjktMTYuOHYtMzFMNzEzLjgsMTA1Ljl6IE00MjguOCw2Ni44YzAtMTYuNSwxMy45LTI5LjgsMzAuMy0yOS44aDE4MC4ydjQ1LjFjMCwxMS42LDQuNiwyMi43LDEyLjgsMzENCgljOC4yLDguMiwxOS4zLDEyLjgsMzAuOSwxMi44aDQ1LjF2MjY4LjVjMCwxNi41LTEzLjksMjkuOC0zMC4zLDI5LjhINDU5LjFjLTE2LjYsMC0zMC4zLTEzLjQtMzAuMy0yOS44VjY2Ljh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjc3LjIsMTY2LjlIMTMwLjZjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMTQ2LjVjNS4xLDAsOS4yLTQuMSw5LjItOS4xDQoJQzI4Ni40LDE3MSwyODIuMywxNjYuOSwyNzcuMiwxNjYuOXoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDE2Ni45SDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjJTOTguNiwxNjYuOSw5My41LDE2Ni45eiINCgkvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDI0MC4zSDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCVMyODIuMywyNDAuNCwyNzcuMiwyNDAuM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDI0MC4zSDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMmMwLDUuMSw0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjINCglDMTAyLjcsMjQ0LjQsOTguNiwyNDAuMyw5My41LDI0MC4zeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDMxMy44SDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCUMyODYuNCwzMTgsMjgyLjMsMzEzLjgsMjc3LjIsMzEzLjh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTMuNSwzMTMuOEg2Ni40Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDI3LjFjNS4xLDAsOS4yLTQuMSw5LjItOS4yDQoJQzEwMi43LDMxNy45LDk4LjYsMzEzLjgsOTMuNSwzMTMuOHoiLz4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNjMsNDEyLjFIODljLTQxLjQsMC03NS0zMy42LTc1LTc1di0yNDVjMC00MS40LDMzLjYtNzUsNzUtNzVoMTQ3LjVjOCwwLDE1LjcsMywyMS42LDguNWw2OSw2My42DQoJCWM2LjksNi4zLDEwLjgsMTUuMywxMC44LDI0Ljd2MjIzLjJDMzM4LDM3OC40LDMwNC40LDQxMi4xLDI2Myw0MTIuMXogTTg5LDM3LjNjLTMwLjIsMC01NC43LDI0LjYtNTQuNyw1NC43djI0NQ0KCQljMCwzMC4yLDI0LjYsNTQuNyw1NC43LDU0LjdoMTc0YzMwLjIsMCw1NC43LTI0LjYsNTQuNy01NC43VjExMy44YzAtMy43LTEuNi03LjMtNC4zLTkuOGwtNjktNjMuNmMtMi4yLTItNS0zLjEtNy45LTMuMUg4OXoiLz4NCjwvZz4NCjwvc3ZnPg0K",e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("beforeend",'<div>\n                      <img src="'+p+'" alt="img"  title="'+e.target.files[m].name+'">\n                      <div style="display:inherit">\n                          <span title="'+e.target.files[m].name+'">'+e.target.files[m].name+"</span>\n                          <br/>\n                          <small>"+r(e.target.files[m].size)+'</small>\n                      </div>\n                      <button type="button" data-index="'+m+'" title="Remove This File"><span style="pointer-events:none">&times;</span></button>\n                  </div>')}}t.length>0&&function(){for(var n=0;n<t.length;n+=1)e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("afterbegin",'\n              <div style="background: #fff2f2;color: darkred;display:none" class="btcd-f-err">\n                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjg2LjA1NCIgaGVpZ2h0PSIyODYuMDU0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoKIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCBmaWxsPSJub25lIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGhlaWdodD0iNDAyIiB3aWR0aD0iNTgyIiB5PSItMSIgeD0iLTEiLz4KIDwvZz4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZyBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSI+CiAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18yIiBmaWxsPSIjOTEwNjAxIiBkPSJtMTQzLjAyNjk5Nyw1Ni4wMDAwMDVjLTQ4LjA2MDg2NSwwIC04Ny4wMjY5OTcsMzguOTY2MTMxIC04Ny4wMjY5OTcsODcuMDI2OTk3YzAsNDguMDY2MzQyIDM4Ljk2NjEzMSw4Ny4wMjY5OTcgODcuMDI2OTk3LDg3LjAyNjk5N2M0OC4wNjYzNDIsMCA4Ny4wMjY5OTcsLTM4Ljk1NTE3OSA4Ny4wMjY5OTcsLTg3LjAyNjk5N2MwLC00OC4wNjA4NjUgLTM4Ljk2MTI2NCwtODcuMDI2OTk3IC04Ny4wMjY5OTcsLTg3LjAyNjk5N3ptMCwxNTcuNzM2MTY2Yy0zOS4wNTMxNDIsMCAtNzAuNzA5MTY5LC0zMS42NTYwMjcgLTcwLjcwOTE2OSwtNzAuNzA5MTY5czMxLjY1NjAyNywtNzAuNzA5MTY5IDcwLjcwOTE2OSwtNzAuNzA5MTY5czcwLjcwOTE2OSwzMS42NTYwMjcgNzAuNzA5MTY5LDcwLjcwOTE2OXMtMzEuNjU2MDI3LDcwLjcwOTE2OSAtNzAuNzA5MTY5LDcwLjcwOTE2OXptMC4wMDU0NzYsLTExOS41Njk1NThjLTYuMjMzMTIxLDAgLTEwLjk0OTMzNywzLjI1Mjg1NyAtMTAuOTQ5MzM3LDguNTA2OTU2bDAsNDguMTkxMDc3YzAsNS4yNTk1NzYgNC43MTU2MDgsOC41MDE0OCAxMC45NDkzMzcsOC41MDE0OGM2LjA4MTAwNCwwIDEwLjk0OTMzNywtMy4zNzc1OTIgMTAuOTQ5MzM3LC04LjUwMTQ4bDAsLTQ4LjE5MTA3N2MtMC4wMDA2MDgsLTUuMTI5MzY0IC00Ljg2ODMzMywtOC41MDY5NTYgLTEwLjk0OTMzNywtOC41MDY5NTZ6bTAsNzYuMDU2MzY0Yy01Ljk4ODUxOCwwIC0xMC44NjIzMjYsNC44NzM4MDkgLTEwLjg2MjMyNiwxMC44NjcxOTRjMCw1Ljk4MzA0MSA0Ljg3MzgwOSwxMC44NTY4NSAxMC44NjIzMjYsMTAuODU2ODVzMTAuODU2ODUsLTQuODczODA5IDEwLjg1Njg1LC0xMC44NTY4NWMtMC4wMDA2MDgsLTUuOTkzOTk0IC00Ljg2ODMzMywtMTAuODY3MTk0IC0xMC44NTY4NSwtMTAuODY3MTk0eiIvPgogIDwvZz4KICA8ZyBpZD0ic3ZnXzMiLz4KICA8ZyBpZD0ic3ZnXzQiLz4KICA8ZyBpZD0ic3ZnXzUiLz4KICA8ZyBpZD0ic3ZnXzYiLz4KICA8ZyBpZD0ic3ZnXzciLz4KICA8ZyBpZD0ic3ZnXzgiLz4KICA8ZyBpZD0ic3ZnXzkiLz4KICA8ZyBpZD0ic3ZnXzEwIi8+CiAgPGcgaWQ9InN2Z18xMSIvPgogIDxnIGlkPSJzdmdfMTIiLz4KICA8ZyBpZD0ic3ZnXzEzIi8+CiAgPGcgaWQ9InN2Z18xNCIvPgogIDxnIGlkPSJzdmdfMTUiLz4KICA8ZyBpZD0ic3ZnXzE2Ii8+CiAgPGcgaWQ9InN2Z18xNyIvPgogPC9nPgo8L3N2Zz4=" alt="img">\n                  <span>'+t[n]+"</span>\n              </div>");for(var i=e.target.parentNode.parentNode.querySelec,a=function(e){!function(e){var t=.01;e.style.opacity=t,e.style.display="flex";var n=setInterval((function(){t>=1&&clearInterval(n),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t+=.1*t}),13)}(i[e]),setTimeout((function(){!function(e){var t=1,n=setInterval((function(){t<=.1&&(clearInterval(n),e.style.display="none"),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t-=.1*t}),50)}(i[e])}),3e3),setTimeout((function(){i[e].remove()}),4e3)},l=0;l<i.length;l+=1)a(l);t=[]}()}}}]);