(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[3793],{5813:function(e,t,l){"use strict";l.d(t,{Z:function(){return i}});var n=l(5637),s=l(5893);function i(e){var t=e.step,l=e.saveConfig,i=e.edit,r=e.disabled;return i?(0,s.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,s.jsx)("button",{onClick:l,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r,children:(0,n.__)("Save","bitform")})}):(0,s.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,s.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,s.jsxs)("button",{onClick:l,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform"),"âœ”"]})]})}},1251:function(e,t,l){"use strict";l.d(t,{Z:function(){return v}});var n=l(2122),s=l(5637),i=l(8381),r=l(7294),a=l(7707),o=l(4401),c=l(3921),u=l(8692),d=l(5414),m=l(5893);function f(e){var t,l,f,p,b,h,_,v,j,x,g,k,y,N,I,C,w,F,Z,T,O,E,S,P,L,D,A,M,q,R,z,V,$,B,G,K,U,W,Y,H,X,J,Q,ee,te,le,ne,se,ie,re,ae,oe,ce,ue,de,me,fe,pe,be,he,_e,ve,je,xe,ge,ke,ye,Ne,Ie,Ce,we,Fe,Ze,Te,Oe,Ee,Se,Pe,Le,De,Ae,Me,qe,Re,ze=e.event,Ve=e.projectsConf,$e=e.setProjectsConf,Be=e.formID,Ge=e.formFields,Ke=e.setSnackbar,Ue=(0,r.useState)(!1),We=Ue[0],Ye=Ue[1],He=(0,r.useState)({show:!1}),Xe=He[0],Je=He[1],Qe=function(e,t,l){var s=(0,n.Z)({},Ve);void 0!==l?l?s.actions[ze][t]=e:delete s.actions[ze][t]:e?s.actions[ze][t]=e:delete s.actions[ze][t],$e((0,n.Z)({},s))},et=function(e,t,l,s){var i,r=(0,n.Z)({},Ve);null!=(i=r.actions[ze])&&i.customTags||(r.actions[ze].customTags=[]),"add"===e?r.actions[ze].customTags.push({name:"",color:""}):"remove"===e?r.actions[ze].customTags.splice(t,1):"value"===e&&("field"===l?r.actions[ze].customTags[t].name+=s:r.actions[ze].customTags[t][l]=s),r.actions[ze].customTags.length||delete r.actions[ze].customTags,$e((0,n.Z)({},r))},tt=function(e,t){var l=(0,n.Z)({},Ve);l.actions[ze].reminder_string&&"reminder_criteria"!==t||(l.actions[ze].reminder_string={}),""!==e?l.actions[ze].reminder_string[t]=e:delete l.actions[ze].reminder_string[t],["custom_date_fld","reminder_time_fld"].includes(t)?delete l.actions[ze].reminder_string[t.replace("_fld","")]:["custom_date","reminder_time"].includes(t)&&delete l.actions[ze].reminder_string[t+"_fld"],$e((0,n.Z)({},l))},lt=function(e,t,l){var s=(0,n.Z)({},Ve);s.actions[ze].recurrence_string&&"recurring_frequency"!==t||(s.actions[ze].recurrence_string={}),void 0!==l?l?s.actions[ze].recurrence_string[t]=e:delete s.actions[ze].recurrence_string[t]:e?s.actions[ze].recurrence_string[t]=e:delete s.actions[ze].recurrence_string[t],["time_span_fld","number_of_occurrences_fld"].includes(t)?delete s.actions[ze].recurrence_string[t.replace("_fld","")]:["time_span","number_of_occurrences"].includes(t)&&delete s.actions[ze].recurrence_string[t+"_fld"],$e((0,n.Z)({},s))},nt=function(e,t){var l,s=(0,n.Z)({},Ve);s.actions[ze].timelog||(s.actions[ze].timelog={}),null!=Ve&&null!=(l=Ve.actions[ze].timelog)&&l.bill_status||(Ve.actions[ze].timelog.bill_status="Billable"),e?s.actions[ze].timelog[t]=e:delete s.actions[ze].timelog[t],["date_fld","hours_fld","start_time_fld","end_time_fld"].includes(t)?delete s.actions[ze].timelog[t.replace("_fld","")]:["date","hours","start_time","end_time"].includes(t)&&delete s.actions[ze].timelog[t+"_fld"],s.actions[ze].timelog.date&&s.actions[ze].timelog.date_fld||delete s.actions[ze].timelog,"settime"===t&&(delete s.actions[ze].timelog.hours,delete s.actions[ze].timelog.hours_fld,delete s.actions[ze].timelog.start_time,delete s.actions[ze].timelog.start_time_fld,delete s.actions[ze].timelog.end_time,delete s.actions[ze].timelog.end_time_fld),$e((0,n.Z)({},s))},st=function(e){var t,l,n,s,i,r,a;(null==Ve||!Ve.projectId||null!=(t=Ve.default)&&null!=(l=t.users)&&null!=(n=l[Ve.portalId])&&n[Ve.projectId])&&null!=(s=Ve.default)&&null!=(i=s.users)&&i[Ve.portalId]||(0,d.n)(Be,Ve,$e,Ye,Ke),Je(e?{show:e}:{show:"owner"}),"users"!==e||null!=Ve&&null!=(r=Ve.actions)&&null!=(a=r.project)&&a.users||(Ve.actions.project.users=[{email:"",role:"employee"},{email:"",role:"manager"},{email:"",role:"contractor"}])},it=function(e){var t,l,n,s,i,r,a,o,c,u,d,m,f,p,b,h,_=[];if("taskuser"===e){if(null!=Ve&&Ve.projectId&&(null==Ve||null==(a=Ve.default)||null==(o=a.users)||null==(c=o[Ve.portalId])||null==(u=c[Ve.projectId])?void 0:u.length)>0)_=null!=Ve&&null!=(p=Ve.actions)&&null!=(b=p[ze])&&b.owner?null==(h=Ve.actions)?void 0:h[ze].owner.split(",").map((function(e){return Ve.default.users[Ve.portalId][Ve.projectId].filter((function(t){return t.userId===e}))})).map((function(e){return e[0]})):[];else if((null==Ve||null==(d=Ve.default)||null==(m=d.users)||null==(f=m[Ve.portalId])?void 0:f.length)>0){var v,j,x;_=null!=Ve&&null!=(v=Ve.actions)&&null!=(j=v[ze])&&j.owner?null==(x=Ve.actions)?void 0:x[ze].owner.split(",").map((function(e){return Ve.default.users[Ve.portalId].filter((function(t){return t.userId===e}))})).map((function(e){return e[0]})):[]}}else if(null!=Ve&&Ve.projectId&&(null==Ve||null==(t=Ve.default)||null==(l=t.users)||null==(n=l[Ve.portalId])||null==(s=n[Ve.projectId])?void 0:s.length)>0)_=Ve.default.users[Ve.portalId][Ve.projectId];else if("project"!==ze&&null!=Ve&&Ve.subEvent.includes("project")){var g,k;if((null==Ve||null==(g=Ve.default)||null==(k=g.users)?void 0:k[Ve.portalId].length)>0){var y="",N="";if(Ve.actions.project.owner&&(y=Ve.default.users[Ve.portalId].filter((function(e){return e.userId===Ve.actions.project.owner}))),Ve.actions.project.users){var I,C,w;N=null==Ve||null==(I=Ve.actions)||null==(C=I.project)||null==(w=C.users)?void 0:w.map((function(e){return e.email&&e.email.split(",").map((function(e){return Ve.default.users[Ve.portalId].filter((function(t){return t.userEmail===e}))})).map((function(e){return e[0]}))}));for(var F=[],Z=0;Z<N.length;Z+=1)for(var T=0;T<N[Z].length;T+=1)F.push(N[Z][T]);N=F}y&&N?(N.push(y[0]),_=N):y&&!N?_=y:N&&!y&&(_=N)}}else(null==Ve||null==(i=Ve.default)||null==(r=i.users)?void 0:r[Ve.portalId].length)>0&&(_="users"===e?Ve.default.users[Ve.portalId].filter((function(e){var t,l;return e.userId!==(null==Ve||null==(t=Ve.actions)||null==(l=t.project)?void 0:l.owner)})):Ve.default.users[Ve.portalId]);return _},rt=function(){Je({show:!1})},at=function(e){return"daily"===e?"(Day)":"weekly"===e?"(Week)":"monthly"===e?"(Month)":"yearly"===e?"(Year)":""};return(0,m.jsxs)("div",{className:"pos-rel",children:[(0,m.jsxs)("div",{className:"d-flx flx-wrp",children:["tasklist"!==ze&&(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(c.Z,{onChange:function(){return st()},checked:"owner"in Ve.actions[ze],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_owner",title:(0,s.g)((0,s.__)("%s Owner","bitform"),ze),subTitle:(0,s.g)((0,s.__)("Add an owner to %s  pushed to Zoho Projects.","bitform"),ze)}),!Ve.actions[ze].owner&&(0,m.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:ze+" owner is required"})]}),"project"===ze&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(c.Z,{onChange:function(){var e,t;null!=(e=Ve.default)&&null!=(t=e.taskLays)&&t[Ve.portalId]||(0,d.mM)(Be,Ve,$e,Ye,Ke),Je({show:"task_layout"})},checked:"tasklayoutid"in Ve.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Task_Owner",title:(0,s.__)("Task Layout","bitform"),subTitle:(0,s.__)("Add a layout to project pushed to Zoho Projects.","bitform")}),!Ve.actions.project.tasklayoutid&&(0,m.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:(0,s.__)("task layout is required","bitform")})]}),(0,m.jsx)(c.Z,{onChange:function(e){return Qe(e.target.value,"public",e.target.checked)},checked:"public"in Ve.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"yes",title:(0,s.__)("Public Project","bitform"),subTitle:(0,s.__)("by default, it is set as private project.","bitform")}),(0,m.jsx)(c.Z,{onChange:function(){return st("users")},checked:"users"in Ve.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Project_User",title:(0,s.__)("Project user","bitform"),subTitle:(0,s.__)("Assign users to project pushed to Zoho Projects.","bitform")}),(0,m.jsx)(c.Z,{onChange:function(){var e,t;null!=(e=Ve.default)&&null!=(t=e.groups)&&t[Ve.portalId]||(0,d.FT)(Be,Ve,$e,Ye,Ke),Je({show:"group"})},checked:"group_id"in Ve.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Project_Group",title:(0,s.__)("Group Name","bitform"),subTitle:(0,s.__)("Add a group to project pushed to Zoho Projects.","bitform")})]}),("milestone"===ze||"tasklist"===ze||"issue"===ze)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"flag"})},checked:"flag"in Ve.actions[ze],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_flag",title:(0,s.g)((0,s.__)("%s Flag","bitform"),ze),subTitle:(0,s.__)("Add a flag to","bitform")+" "+ze+" "+(0,s.__)("pushed to Zoho Projects.","bitform")}),!Ve.actions[ze].flag&&(0,m.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:ze+" "+(0,s.__)("flag is required","bitform")})]})}),"issue"===ze&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{onChange:function(){return st("followers")},checked:"bug_followers"in Ve.actions[ze],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Issue_Followers",title:(0,s.__)("Issue Followers","bitform"),subTitle:(0,s.__)("Add followers to issue pushed to Zoho Projects","bitform")}),(null==Ve?void 0:Ve.projectId)&&["severity","classification","module","priority"].map((function(e){return(0,m.jsx)(c.Z,{onChange:function(){return Je({show:e})},checked:("priority"===e?"reproducible_id":e+"_id")in Ve.actions[ze],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:e,title:(0,s.g)((0,s.__)("Issue %s","bitform"),e),subTitle:(0,s.g)((0,s.__)("Add %s to issue pushed to Zoho Projects","bitform"),e)},e)}))]}),("task"===ze||"subtask"===ze||"issue"===ze)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"attachments"})},checked:"attachments"in Ve.actions[ze],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_attachments",title:(0,s.g)((0,s.__)("%s Attachments","bitform"),ze),subTitle:(0,s.g)("Add attachments to %s pushed to Zoho Projects.",ze)}),(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"timelog"})},checked:(null==(t=Ve.actions[ze])||null==(l=t.timelog)?void 0:l.date)||(null==(f=Ve.actions[ze])||null==(p=f.timelog)?void 0:p.date_fld)||!1,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_timelog",title:(0,s.g)((0,s.__)("%s Time Log","bitform"),ze),subTitle:(0,s.g)((0,s.__)("Add time log to %s pushed to Zoho Projects.","bitform"),ze)})]}),"task"===ze&&(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"recurrence_string"})},checked:"recurrence_string"in Ve.actions[ze]&&"recurring_frequency"in(null==(b=Ve.actions[ze])?void 0:b.recurrence_string),className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_reminder",title:(0,s.g)((0,s.__)("%s Recurrence","bitform"),ze),subTitle:(0,s.g)((0,s.__)("Add recurrence to %s pushed to Zoho Projects.","bitform"),ze)}),("task"===ze||"subtask"===ze||"issue"===ze)&&(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"reminder_string"})},checked:"reminder_string"in Ve.actions[ze]&&"reminder_criteria"in(null==(h=Ve.actions[ze])?void 0:h.reminder_string),className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_reminder",title:(0,s.g)((0,s.__)("%s Reminder","bitform"),ze),subTitle:(0,s.g)((0,s.__)("Add reminder to %s pushed to Zoho Projects.","bitform"),ze)}),(0,m.jsx)(c.Z,{onChange:function(){return Je({show:"tags"})},checked:Ve.actions[ze].tags||(null==Ve||null==(_=Ve.actions)||null==(v=_[ze])?void 0:v.customTags)||!1,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:ze+"_tags",title:(0,s.g)((0,s.__)("%s Tags","bitform"),ze),subTitle:(0,s.g)((0,s.__)("Add tags to %s pushed to Zoho Projects.","bitform"),ze)})]}),"tasklist"!==ze&&(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"owner"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Owner","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:["task"===ze||"subtask"===ze?(0,m.jsx)(a.Z,{defaultValue:Ve.actions[ze].owner,className:"mt-2 w-9",onChange:function(e){return Qe(e,"owner")},options:it().map((function(e){return{label:e.userName,value:e.userId}}))}):(0,m.jsxs)("select",{value:Ve.actions[ze].owner,className:"btcd-paper-inp",onChange:function(e){return Qe(e.target.value,"owner")},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Owner","bitform")}),it().length>0&&it().map((function(e){return(0,m.jsx)("option",{value:e.userId,children:e.userName},e.userId)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.n)(Be,Ve,$e,Ye,Ke)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Portal Users","bitform")+"'"},type:"button",disabled:We,children:"â†»"})]})]}),"project"===ze&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"task_layout"===Xe.show,close:rt,action:rt,title:(0,s.__)("Task Layout","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,m.jsxs)("select",{value:Ve.actions.project.tasklayoutid,className:"btcd-paper-inp",onChange:function(e){return Qe(e.target.value,"tasklayoutid")},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Layout","bitform")}),null==(j=Ve.default)||null==(x=j.taskLays)||null==(g=x[Ve.portalId])?void 0:g.map((function(e){return(0,m.jsx)("option",{value:e.taskLayId,children:e.taskLayName},e.taskLayId)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.mM)(Be,Ve,$e,Ye,Ke)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Task Layouts","bitform")+"'"},type:"button",disabled:We,children:"â†»"})]})]}),(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"users"===Xe.show,close:rt,action:rt,title:(0,s.__)("Assign Project Users","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsx)(m.Fragment,{children:(null==(k=Ve.actions.project)?void 0:k.users)&&Ve.actions.project.users.map((function(e,t){return(0,m.jsxs)("div",{className:"flx flx-between mt-1",children:[(0,m.jsx)(a.Z,{className:"btcd-paper-drpdwn mt-2",defaultValue:e.email,options:it("users").map((function(e){return{label:e.userName,value:e.userEmail}})),onChange:function(e){return function(e,t,l,s){var i,r=(0,n.Z)({},Ve);null!=(i=r.actions.project)&&i.users||(r.actions.project.users=[]),"add"===e?r.actions.project.users.push({name:"",role:""}):"remove"===e?r.actions.project.users.splice(t,1):"value"===e&&(r.actions.project.users[t][l]=s),$e((0,n.Z)({},r))}("value",t,"email",e)}}),(0,m.jsx)("input",{type:"text",value:e.role,readOnly:!0,className:"btcd-paper-inp mt-2 w-3 ml-1"})]},"us-"+(t+10))}))})]}),(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"group"===Xe.show,close:rt,action:rt,title:(0,s.__)("Project Group","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,m.jsxs)("select",{value:Ve.actions.project.group_id,className:"btcd-paper-inp",onChange:function(e){return Qe(e.target.value,"group_id")},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Group","bitform")}),null==(y=Ve.default)||null==(N=y.groups)||null==(I=N[Ve.portalId])?void 0:I.map((function(e){return(0,m.jsx)("option",{value:e.groupId,children:e.groupName},e.groupId)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.FT)(Be,Ve,$e,Ye,Ke)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Project Groups","bitform")+"'"},type:"button",disabled:We,children:"â†»"})]})]})]}),("tasklist"===ze||"milestone"===ze||"issue"===ze)&&(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"flag"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Flag","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"flx flx-between mt-2",children:(0,m.jsxs)("select",{value:Ve.actions[ze].flag,className:"btcd-paper-inp",onChange:function(e){return Qe(e.target.value,"flag")},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Flag","bitform")}),(0,m.jsx)("option",{value:"issue"===ze?"Internal":"internal",children:(0,s.__)("Internal","bitform")}),(0,m.jsx)("option",{value:"issue"===ze?"External":"external",children:(0,s.__)("External","bitform")})]})})]}),("task"===ze||"subtask"===ze||"issue"===ze)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"attachments"===Xe.show,close:rt,action:rt,title:(0,s.__)("Select Attachment","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"mt-2",children:(0,s.__)("Select file upload fields","bitform")}),(0,m.jsx)(a.Z,{defaultValue:Ve.actions[ze].attachments,className:"mt-2 w-9",onChange:function(e){return Qe(e,"attachments")},options:Ge.filter((function(e){return"file-up"===e.type})).map((function(e){return{label:e.name,value:e.key}}))})]}),(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"timelog"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Time Log","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Date","bitform")}),(0,m.jsxs)("div",{className:"flx",children:[(0,m.jsx)("input",{type:"date",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"date")},value:(null==(C=Ve.actions[ze])||null==(w=C.timelog)?void 0:w.date)||"",style:{height:40},max:(new Date).toISOString().split("T")[0]}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"date_fld")},value:(null==(F=Ve.actions[ze])||null==(Z=F.timelog)?void 0:Z.date_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"date"===e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Billing Status","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"bill_status")},value:(null==(T=Ve.actions[ze])||null==(O=T.timelog)?void 0:O.bill_status)||"",children:[(0,m.jsx)("option",{value:"Billable",children:(0,s.__)("Billable","bitform")}),(0,m.jsx)("option",{value:"Non Billable",children:(0,s.__)("Non Billable","bitform")})]}),!(null!=Ve&&null!=(E=Ve.actions[ze])&&null!=(S=E.timelog)&&S.settime)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Enter Hours","bitform")}),(0,m.jsxs)("div",{className:"flx mb-2",children:[(0,m.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"hours")},value:(null==(P=Ve.actions[ze])||null==(L=P.timelog)?void 0:L.hours)||""}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"hours_fld")},value:(null==(D=Ve.actions[ze])||null==(A=D.timelog)?void 0:A.hours_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("span",{className:"btcd-link cp",onClick:function(){return nt(!0,"settime")},onKeyDown:function(){return nt(!0,"settime")},role:"button",tabIndex:"0",children:(0,s.__)("set start & end time","bitform")})]}),(null==Ve||null==(M=Ve.actions[ze])||null==(q=M.timelog)?void 0:q.settime)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Start Time","bitform")}),(0,m.jsxs)("div",{className:"flx",children:[(0,m.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"start_time")},value:(null==(R=Ve.actions[ze])||null==(z=R.timelog)?void 0:z.start_time)||"",style:{height:40}}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"start_time_fld")},value:(null==(V=Ve.actions[ze])||null==($=V.timelog)?void 0:$.start_time_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"time"===e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("End Time","bitform")}),(0,m.jsxs)("div",{className:"flx mb-2",children:[(0,m.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"end_time")},value:(null==(B=Ve.actions[ze])||null==(G=B.timelog)?void 0:G.end_time)||"",style:{height:40}}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"end_time_fld")},value:(null==(K=Ve.actions[ze])||null==(U=K.timelog)?void 0:U.end_time_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"time"===e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("span",{className:"btcd-link cp",onClick:function(){return nt(!1,"settime")},onKeyDown:function(){return nt(!1,"settime")},role:"button",tabIndex:"0",children:(0,s.__)("set hours","bitform")})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("User","bitform")}),(0,m.jsxs)("select",{value:null==(W=Ve.actions[ze])||null==(Y=W.timelog)?void 0:Y.owner,className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"owner")},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Owner","bitform")}),it("taskuser").length>0&&it("taskuser").map((function(e){return(0,m.jsx)("option",{value:e.userId,children:e.userName},e.userId)}))]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Notes","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp mb-2",onChange:function(e){return nt(e.target.value,"notes_fld")},value:(null==(H=Ve.actions[ze])||null==(X=H.timelog)?void 0:X.notes_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]})]}),("task"===ze||"subtask"===ze||"issue"===ze)&&(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"reminder_string"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Reminder","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Reminder Type","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"reminder_criteria")},value:(null==(J=Ve.actions[ze])||null==(Q=J.reminder_string)?void 0:Q.reminder_criteria)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Type","bitform")}),(0,m.jsx)("option",{value:"daily",children:(0,s.__)("Daily","bitform")}),(0,m.jsx)("option",{value:"on same day",children:(0,s.__)("On Same Day","bitform")}),(0,m.jsx)("option",{value:"before due date",children:(0,s.__)("Before Due Date","bitform")}),(0,m.jsx)("option",{value:"customdate",children:(0,s.__)("Custom Date","bitform")})]}),"before due date"===(null==(ee=Ve.actions[ze])||null==(te=ee.reminder_string)?void 0:te.reminder_criteria)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Day Before","bitform")}),(0,m.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"day_before")},value:(null==(le=Ve.actions[ze])||null==(ne=le.reminder_string)?void 0:ne.day_before)||""})]}),"customdate"===(null==(se=Ve.actions[ze])||null==(ie=se.reminder_string)?void 0:ie.reminder_criteria)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Date","bitform")}),(0,m.jsxs)("div",{className:"flx",children:[(0,m.jsx)("input",{type:"date",className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"custom_date")},value:(null==(re=Ve.actions[ze])||null==(ae=re.reminder_string)?void 0:ae.custom_date)||"",style:{height:40}}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"custom_date_fld")},value:(null==(oe=Ve.actions[ze])||null==(ce=oe.reminder_string)?void 0:ce.custom_date_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"date"===e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Time","bitform")}),(0,m.jsxs)("div",{className:"flx",children:[(0,m.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"reminder_time")},value:(null==(ue=Ve.actions[ze])||null==(de=ue.reminder_string)?void 0:de.reminder_time)||"",style:{height:40}}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return tt(e.target.value,"reminder_time_fld")},value:(null==(me=Ve.actions[ze])||null==(fe=me.reminder_string)?void 0:fe.reminder_time_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"time"===e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,s.__)("Notify Users","bitform")}),(0,m.jsx)(a.Z,{defaultValue:null==(pe=Ve.actions[ze])||null==(be=pe.reminder_string)?void 0:be.reminder_notify_users,className:"mt-1 w-10 btcd-paper-drpdwn",onChange:function(e){return tt(e,"reminder_notify_users")},options:it().map((function(e){return{label:e.userName,value:e.userId}}))})]}),"task"===ze&&(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"recurrence_string"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Recurrence","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Recurring Frequency","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"recurring_frequency")},value:null==(he=Ve.actions[ze])||null==(_e=he.recurrence_string)?void 0:_e.recurring_frequency,children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Frequency","bitform")}),(0,m.jsx)("option",{value:"daily",children:(0,s.__)("Daily","bitform")}),(0,m.jsx)("option",{value:"weekly",children:(0,s.__)("Weekley","bitform")}),(0,m.jsx)("option",{value:"monthly",children:(0,s.__)("Monthly","bitform")}),(0,m.jsx)("option",{value:"yearly",children:(0,s.__)("Yearly","bitform")})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Once Every "+at(null==(ve=Ve.actions[ze])||null==(je=ve.recurrence_string)?void 0:je.recurring_frequency),"bitform")}),(0,m.jsxs)("div",{className:"flx",children:[(0,m.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"time_span")},min:"1",max:"15",value:(null==(xe=Ve.actions[ze])||null==(ge=xe.recurrence_string)?void 0:ge.time_span)||""}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"time_span_fld")},value:(null==(ke=Ve.actions[ze])||null==(ye=ke.recurrence_string)?void 0:ye.time_span_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,m.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("End After "+at(null==(Ne=Ve.actions[ze])||null==(Ie=Ne.recurrence_string)?void 0:Ie.recurring_frequency),"bitform")}),(0,m.jsxs)("div",{className:"flx mb-2",children:[(0,m.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"number_of_occurrences")},min:"2",max:"30",value:(null==(Ce=Ve.actions[ze])||null==(we=Ce.recurrence_string)?void 0:we.number_of_occurrences)||""}),(0,m.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"number_of_occurrences_fld")},value:(null==(Fe=Ve.actions[ze])||null==(Ze=Fe.recurrence_string)?void 0:Ze.number_of_occurrences_fld)||"",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),["monthly","yearly"].includes(null==(Te=Ve.actions[ze])||null==(Oe=Te.recurrence_string)?void 0:Oe.recurring_frequency)&&(0,m.jsx)(u.Z,{onChange:function(e){return lt(e.target.value,"set_previous_business_day",e.target.checked)},checked:(null==(Ee=Ve.actions[ze])||null==(Se=Ee.recurrence_string)?void 0:Se.set_previous_business_day)||!1,value:"true",title:(0,s.__)("Set to previous business day","bitform")}),(0,m.jsx)(u.Z,{onChange:function(e){return lt(e.target.value,"is_comments_recurred",e.target.checked)},checked:(null==(Pe=Ve.actions[ze])||null==(Le=Pe.recurrence_string)?void 0:Le.is_comments_recurred)||!1,value:"true",title:(0,s.__)("Retain comments for subsequent recurrences","bitform")}),(0,m.jsx)(u.Z,{onChange:function(e){return lt(e.target.value,"recurrence_type",e.target.checked)},checked:(null==(De=Ve.actions[ze])||null==(Ae=De.recurrence_string)?void 0:Ae.recurrence_type)||!1,value:"after_current_task_completed",title:(0,s.__)("Create next recurrence after the close of current task.","bitform")})]}),"issue"===ze&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"followers"===Xe.show,close:rt,action:rt,title:(0,s.__)("Issue Followers","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,m.jsx)(a.Z,{defaultValue:Ve.actions[ze].bug_followers,className:"mt-2 w-9",onChange:function(e){return Qe(e,"bug_followers")},options:it().map((function(e){return{label:e.userName,value:e.userId}}))}),(0,m.jsx)("button",{onClick:function(){return(0,d.n)(Be,Ve,$e,Ye,Ke)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Portal Users","bitform")+"'"},type:"button",disabled:We,children:"â†»"})]})]}),(null==Ve?void 0:Ve.projectId)&&["severity","classification","module","priority"].map((function(e){var t,l,n,i,r,a;return(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:Xe.show===e,close:rt,action:rt,title:(0,s.g)((0,s.__)("Issue %s","bitform"),e),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),(0,m.jsx)("div",{className:"flx flx-between mt-2",children:(0,m.jsxs)("select",{value:Ve.actions[ze]["priority"===e?"reproducible_id":e+"_id"],className:"btcd-paper-inp",onChange:function(t){return Qe(t.target.value,"priority"===e?"reproducible_id":e+"_id")},children:[(0,m.jsx)("option",{value:"",children:"Select "+e}),(null==(t=Ve.default)||null==(l=t.fields)||null==(n=l[Ve.portalId])||null==(i=n[Ve.projectId])||null==(r=i[ze])||null==(a=r.defaultfields)?void 0:a[e+"_details"])&&Object.values(Ve.default.fields[Ve.portalId][Ve.projectId][ze].defaultfields[e+"_details"]).map((function(t){return(0,m.jsx)("option",{value:t[e+"_id"],children:t[e+"_name"]},t[e+"_id"])}))]})})]},e)}))]}),(0,m.jsxs)(o.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"tags"===Xe.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Tags","bitform"),ze),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2"}),We?(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,m.jsx)(a.Z,{className:"msl-wrp-options",defaultValue:Ve.actions[ze].tags,options:function(){var e,t,l=[{title:"Zoho Projects Tags",type:"group",childs:[]}];null!=(e=Ve.default.tags)&&e[Ve.portalId]&&(l[0].childs=Object.values(null==(t=Ve.default.tags)?void 0:t[Ve.portalId]).map((function(e){return{label:e.tagName,value:e.tagId}})));return l}(),onChange:function(e){return Qe(e,"tags")}}),(0,m.jsx)("button",{onClick:function(){return(0,d.TF)(Be,Ve,$e,Ye,Ke)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Tags"'},type:"button",disabled:We,children:"â†»"})]}),(0,m.jsx)("hr",{}),(0,m.jsx)("small",{children:(0,s.__)("Custom Tags","bitform")}),(null==Ve||null==(Me=Ve.actions)||null==(qe=Me[ze])||null==(Re=qe.customTags)?void 0:Re.length)>0&&Ve.actions[ze].customTags.map((function(e,t){return(0,m.jsxs)("div",{className:"flx flx-between mt-2 mb-2",children:[(0,m.jsx)("input",{type:"text",className:"btcd-paper-inp",onChange:function(e){return et("value",t,"name",e.target.value)},value:e.name}),(0,m.jsxs)("select",{className:"btcd-paper-inp w-3",value:e.field,onChange:function(e){return et("value",t,"field",e.target.value)},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ge.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,m.jsxs)("select",{className:"btcd-paper-inp w-3",style:{backgroundColor:""+e.color.replace("bg","#")},value:e.color,onChange:function(e){return et("value",t,"color",e.target.value)},children:[(0,m.jsx)("option",{value:"",children:"Color"}),["0dd3d3","e2b910","7f78e0","f28840","d359aa","83b727","b58a61","ffac14","48b7b4","f56b62","728099","609100","0d6fb7","0995ba","15a8e2","ff5acd","898985","3b92ff","ac57f2","895a59"].map((function(e){return(0,m.jsx)("option",{value:"bg"+e,style:{backgroundColor:"#"+e},"aria-label":"color"},e)}))]}),(0,m.jsx)("button",{onClick:function(){return et("remove",t)},className:"icn-btn ml-2","aria-label":"delete",type:"button",children:(0,m.jsx)("span",{className:"btcd-icn icn-trash-2"})})]},"tg="+(t+79))})),(0,m.jsx)("button",{onClick:function(){return et("add")},className:"icn-btn ml-2 mr-2 sh-sm tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Add Custom Tag","nitform")+"'"},type:"button",children:"+"})]})]})]})}var p=l(8530),b=function(e,t,l,s){var i=(0,n.Z)({},t);i.field_map[s].splice(e,0,{formField:"",zohoFormField:""}),l((0,n.Z)({},i))};function h(e){var t,l,i,r,a,o,c,u,d,f,h,_,v,j,x,g,k,y,N,I,C,w,F,Z,T,O,E,S=e.i,P=e.event,L=e.formFields,D=e.field,A=e.projectsConf,M=e.setProjectsConf,q=A.portalId;null!=A&&A.projectId?y=""===D.zohoFormField||-1===(null==(N=A.default.fields)||null==(I=N[q])||null==(C=I[A.projectId])||null==(w=C[P])||null==(F=w.required)?void 0:F.indexOf(D.zohoFormField)):y=""===D.zohoFormField||-1===(null==(Z=A.default.fields)||null==(T=Z[q])||null==(O=T[P])||null==(E=O.required)?void 0:E.indexOf(D.zohoFormField));var R,z,V,$,B,G,K,U,W,Y,H="";null!=A&&A.projectId?null!=(R=A.default)&&null!=(z=R.fields)&&null!=(V=z[A.portalId])&&null!=($=V[A.projectId])&&null!=(B=$[P])&&B.fields&&(H=A.field_map[P].length===Object.keys(null==(G=A.default)||null==(K=G.fields)||null==(U=K[A.portalId])||null==(W=U[A.projectId])||null==(Y=W[P])?void 0:Y.fields).length):null!=(t=A.default)&&null!=(l=t.fields)&&null!=(i=l[A.portalId])&&null!=(r=i[P])&&r.fields&&(H=A.field_map[P].length===Object.keys(null==(a=A.default)||null==(o=a.fields)||null==(c=o[A.portalId])||null==(u=c[P])?void 0:u.fields).length);var X=function(e,t){var l=(0,n.Z)({},A);l.field_map[P][t][e.target.name]=e.target.value,"custom"===e.target.value&&(l.field_map[P][t].customValue=""),M((0,n.Z)({},l))};return(0,m.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,m.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,m.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:D.formField||"",onChange:function(e){return X(e,S)},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),L.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})),(0,m.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bitform")})]}),"custom"===D.formField&&(0,m.jsx)(p.Z,{onChange:function(e){return function(e,t){var l=(0,n.Z)({},A);l.field_map[P][t].customValue=e.target.value,M((0,n.Z)({},l))}(e,S)},label:(0,s.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:D.customValue,placeholder:(0,s.__)("Custom Value","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",name:"zohoFormField",value:D.zohoFormField||"",disabled:!y,onChange:function(e){return X(e,S)},children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),null!=A&&A.projectId?(null==(d=A.default)||null==(f=d.fields)||null==(h=f[q])||null==(_=h[A.projectId])||null==(v=_[P])?void 0:v.fields)&&Object.values(A.default.fields[q][A.projectId][P].fields).map((function(e){return y?!(null!=e&&e.required)&&(0,m.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel):(null==e?void 0:e.required)&&(0,m.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel)})):(null==(j=A.default)||null==(x=j.fields)||null==(g=x[q])||null==(k=g[P])?void 0:k.fields)&&Object.values(A.default.fields[q][P].fields).map((function(e){return y?!(null!=e&&e.required)&&(0,m.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel):(null==e?void 0:e.required)&&(0,m.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel)}))]})]}),!H&&(0,m.jsx)("button",{onClick:function(){return b(S,A,M,P)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),y&&(0,m.jsx)("button",{onClick:function(){return function(e){var t=(0,n.Z)({},A);t.field_map[P].length>1&&t.field_map[P].splice(e,1),M((0,n.Z)({},t))}(S)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,m.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})}function _(e){var t,l,i,r,a,o,c,u,p,_,v,j=e.event,x=e.projectsConf,g=e.setProjectsConf,k=e.formID,y=e.formFields,N=e.isLoading,I=e.setisLoading,C=e.setSnackbar,w="";if(null!=x&&x.projectId&&null!=(t=x.default)&&null!=(l=t.fields)&&null!=(i=l[x.portalId])&&null!=(r=i[x.projectId])&&null!=(a=r[j])&&a.fields)w=x.field_map[j].length===Object.keys(x.default.fields[x.portalId][x.projectId][j].fields).length;else if(null!=(o=x.default)&&null!=(c=o.fields)&&null!=(u=c[x.portalId])&&null!=(p=u[j])&&p.fields){var F;w=x.field_map[j].length===Object.keys(null==(F=x.default.fields[x.portalId][j])?void 0:F.fields).length}return(0,m.jsxs)("div",{className:"btcd-ttc",children:[(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsxs)("div",{className:"d-flx flx-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("b",{className:"wdt-100",children:[(0,s.__)("Create","bitform")," "+j]}),(0,m.jsx)("button",{onClick:function(){return(0,d.GX)(k,x,g,I,C,j)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Fields","bitform")+"'"},type:"button",disabled:N,children:"â†»"})]}),x.event!==j&&(0,m.jsx)("button",{onClick:function(){var e=(0,n.Z)({},x);e.subEvent.splice(e.subEvent.indexOf(j),1),g((0,n.Z)({},e))},className:"icn-btn sh-sm ml-2 mr-2",type:"button","aria-label":"delete",children:(0,m.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})}),(0,m.jsx)("div",{className:"btcd-hr mt-1"}),(0,m.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,s.__)("Zoho Fields","bitform")})})]}),null==(_=x.field_map)||null==(v=_[j])?void 0:v.map((function(e,t){return(0,m.jsx)(h,{i:t,event:j,field:e,projectsConf:x,formFields:y,setProjectsConf:g},"projects-m-"+(t+9))})),!w&&(0,m.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,m.jsx)("button",{onClick:function(){return b(x.field_map[j].length,x,g,j)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsxs)("b",{className:"wdt-100",children:[""+j," ",(0,s.__)("Actions","bitform")]})}),(0,m.jsx)("div",{className:"btcd-hr mt-1"}),(0,m.jsx)(f,{event:j,projectsConf:x,setProjectsConf:g,formID:k,formFields:y,setSnackbar:C}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]})}function v(e){var t,l,r,a,o,c,u,f,p,b,h,v,j,x,g,k,y,N,I,C,w,F,Z,T,O,E,S=e.formID,P=e.formFields,L=e.handleInput,D=e.projectsConf,A=e.setProjectsConf,M=e.isLoading,q=e.setisLoading,R=e.setSnackbar,z=function(e){var t,l=(0,n.Z)({},D),s=[];s[0]=e.target.getAttribute("event"),"tasklist"===s[0]&&l.tasklistFlag&&(l.tasklistFlag=""),"subtask"===(null==(t=l)?void 0:t.event)&&["project","milestone","tasklist"].includes(s[0])&&!l.subEvent.includes("task")&&(l.taskId="",s.push("task")),l[s[0]+"Id"]="",s.map((function(e){if(!l.subEvent.includes(e)){l.actions[e]={},l.subEvent.push(e),l=(0,d.Yd)(S,l,A,q,R),"tasklist"===e&&(l.tasklistFlag="");var t=["project","milestone","tasklist","task","subtask","issue"];l.subEvent.sort((function(e,l){return t.indexOf(e)-t.indexOf(l)}))}})),A((0,n.Z)({},l))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("br",{}),(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Portal:","bitform")}),(0,m.jsxs)("select",{onChange:L,name:"portalId",value:D.portalId,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Portal","bitform")}),(null==D||null==(t=D.default)?void 0:t.portals)&&Object.values(D.default.portals).map((function(e){return(0,m.jsx)("option",{value:e.portalId,children:e.portalName},e.portalId)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.c0)(S,D,A,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Projects Portals","bitform")+"'"},type:"button",disabled:M,children:"â†»"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Event:","bitform")}),(0,m.jsxs)("select",{onChange:L,name:"event",value:D.event,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Event","bitform")}),(null==D?void 0:D.portalId)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("option",{value:"project",children:(0,s.__)("Create Project","bitform")}),(0,m.jsx)("option",{value:"milestone",children:(0,s.__)("Create Milestone","bitform")}),(0,m.jsx)("option",{value:"tasklist",children:(0,s.__)("Create Tasklist","bitform")}),(0,m.jsx)("option",{value:"task",children:(0,s.__)("Create Task","bitform")}),(0,m.jsx)("option",{value:"subtask",children:(0,s.__)("Create Sub Task","bitform")}),(0,m.jsx)("option",{value:"issue",children:(0,s.__)("Create Issue","bitform")})]})]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(null==D?void 0:D.event)&&"project"!==D.event&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:"Project:"}),(0,m.jsxs)("select",{onChange:L,name:"projectId",value:D.projectId,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Project","bitform")}),(null==D||null==(l=D.default)||null==(r=l.projects)?void 0:r[D.portalId])&&Object.values(D.default.projects[D.portalId]).map((function(e,t){return(0,m.jsx)("option",{value:e.projectId,children:e.projectName},e.projectId+"_"+t)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.Ir)(S,D,A,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Projects","bitform")+"'"},type:"button",disabled:M,children:"â†»"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{className:"btcd-link cp",style:{marginLeft:155},event:"project",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new project","bitform")}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),((null==D?void 0:D.projectId)||(null==D||null==(a=D.subEvent)?void 0:a.includes("project")))&&!["project","milestone"].includes(null==D?void 0:D.event)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Milestone:","bitform")}),!D.subEvent.includes("project")&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("select",{onChange:L,name:"milestoneId",value:D.milestoneId,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Milestone","bitform")}),(null==D||null==(o=D.default)||null==(c=o.milestones)?void 0:c[D.projectId])&&Object.values(D.default.milestones[D.projectId]).map((function(e,t){return(0,m.jsx)("option",{value:e.milestoneId,children:e.milestoneName},e.milestoneId+"_"+t)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.WP)(S,D,A,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Milestones","bitform")+"'"},type:"button",disabled:M,children:"â†»"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),(0,m.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")?5:155},event:"milestone",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new milestone","bitform")}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),((null==D?void 0:D.projectId)||(null==D||null==(u=D.subEvent)?void 0:u.includes("project")))&&["task","subtask"].includes(null==D?void 0:D.event)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:D.subEvent.includes("project")||D.subEvent.includes("milestone")?(0,s.__)("Tasklist:","bitform"):(0,s.__)("Tasklist Flag:","bitform")}),!D.subEvent.includes("project")&&!D.subEvent.includes("milestone")&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("select",{onChange:L,name:"tasklistFlag",value:D.tasklistFlag,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Tasklist Flag","bitform")}),!(null!=D&&D.subEvent.includes("milestone"))&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("option",{value:"internal",children:(0,s.__)("Internal","bitform")}),(0,m.jsx)("option",{value:"external",children:(0,s.__)("External","bitform")})]})]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(null==D?void 0:D.tasklistFlag)&&!(null!=D&&D.subEvent.includes("milestone"))&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Tasklist:","bitform")}),(0,m.jsxs)("select",{onChange:L,name:"tasklistId",value:D.tasklistId,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Tasklist","bitform")}),null!=D&&D.milestoneId?(null==D||null==(f=D.default)||null==(p=f.tasklists)||null==(b=p[D.portalId])||null==(h=b[D.milestoneId])?void 0:h[D.tasklistFlag])&&Object.values(D.default.tasklists[D.portalId][D.milestoneId][D.tasklistFlag]).map((function(e,t){return e.tasklistId&&(0,m.jsx)("option",{value:e.tasklistId,children:e.tasklistName},e.tasklistId+"_"+t)})):(null==D||null==(v=D.default)||null==(j=v.tasklists)||null==(x=j[D.portalId])?void 0:x[D.tasklistFlag])&&Object.values(D.default.tasklists[D.portalId][D.tasklistFlag]).map((function(e,t){return e.tasklistId&&(0,m.jsx)("option",{value:e.tasklistId,children:e.tasklistName},e.tasklistId+"_"+t)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.AA)(S,D,A,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Milestones","bitform")+"'"},type:"button",disabled:M,children:"â†»"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]})]}),(0,m.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")||D.subEvent.includes("milestone")?5:155},event:"tasklist",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new tasklist","bitform")}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),"subtask"===(null==D?void 0:D.event)&&((null==D?void 0:D.projectId)||D.subEvent.includes("project"))&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Task:","bitform")}),!D.subEvent.includes("project")&&!D.subEvent.includes("milestone")&&!D.subEvent.includes("tasklist")&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("select",{onChange:L,name:"taskId",value:D.taskId,className:"btcd-paper-inp w-7",children:[(0,m.jsx)("option",{value:"",children:(0,s.__)("Select Task","bitform")}),null!=D&&D.milestoneId?null!=D&&D.tasklistId?(null==D||null==(g=D.default)||null==(k=g.tasks)||null==(y=k[D.portalId])||null==(N=y[D.milestoneId])?void 0:N[D.tasklistId])&&Object.values(D.default.tasks[D.portalId][D.milestoneId][D.tasklistId]).map((function(e,t){return e.taskId&&(0,m.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):(null==D||null==(I=D.default)||null==(C=I.tasks)||null==(w=C[D.portalId])?void 0:w[D.milestoneId])&&Object.values(D.default.tasks[D.portalId][D.milestoneId]).map((function(e,t){return e.taskId&&(0,m.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):null!=D&&D.tasklistId?(null==D||null==(F=D.default)||null==(Z=F.tasks)||null==(T=Z[D.portalId])?void 0:T[D.tasklistId])&&Object.values(D.default.tasks[D.portalId][D.tasklistId]).map((function(e,t){return e.taskId&&(0,m.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):(null==D||null==(O=D.default)||null==(E=O.tasks)?void 0:E[D.portalId])&&Object.values(D.default.tasks[D.portalId]).map((function(e,t){return e.taskId&&(0,m.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)}))]}),(0,m.jsx)("button",{onClick:function(){return(0,d.D6)(S,D,A,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Tasks"'},type:"button",disabled:M,children:"â†»"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),(0,m.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")||D.subEvent.includes("milestone")||D.subEvent.includes("tasklist")?5:155},event:"task",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new task","bitform")}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}),M&&(0,m.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(null==D?void 0:D.event)&&(null==D?void 0:D.subEvent)&&("project"===D.event||(D.projectId?"subtask"!==D.event||"subtask"===D.event&&((null==D?void 0:D.taskId)||(null==D?void 0:D.subEvent.includes("task"))):D.subEvent.includes("project")))&&D.subEvent.map((function(e){return(0,m.jsx)(_,{event:e,projectsConf:D,setProjectsConf:A,formID:S,formFields:P,isLoading:M,setisLoading:q,setSnackbar:R},"subEvent-"+e)}))]})}},8530:function(e,t,l){"use strict";var n=l(5893);t.Z=function(e){var t=e.label,l=e.onChange,s=e.value,i=e.disabled,r=e.type,a=e.textarea,o=e.className;return(0,n.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!a&&(0,n.jsx)("input",{type:void 0===r?"text":r,onChange:l,placeholder:" ",disabled:i,value:s}),a&&(0,n.jsx)("textarea",{type:void 0===r?"text":r,onChange:l,placeholder:" ",disabled:i,value:s}),(0,n.jsx)("span",{children:t})]})}}}]);