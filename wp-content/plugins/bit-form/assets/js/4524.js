(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4524],{4524:function(e,t,n){"use strict";n.r(t);var i=n(7294),a=n(5977),l=n(3727),o=n(5637),r=n(5893);t.default=function(e){var t=e.mailTem,n=e.setMailTem,c=e.formFields,s=e.saveForm,d=(0,a.UO)(),m=d.formType,u=d.formID,f=d.id,p=(0,a.k6)();(0,i.useEffect)((function(){if("undefined"!==typeof tinymce&&c.length>0){for(var e=document.querySelectorAll(".form-fields-em"),t=0;t<e.length;t+=1)e[t].style.display="none";tinymce.init({selector:".btcd-editor",plugins:"link hr lists wpview wpemoji",theme:"modern",menubar:!1,branding:!1,resize:"verticle",min_width:300,convert_urls:!1,toolbar:"formatselect bold italic |  alignleft aligncenter alignright | outdent indent | link | undo redo | hr | toogleCode | addFormField | toggleCode",setup:function(e){e.on("Paste Change input Undo Redo",(function(){h(e.getContent(),e.targetElm.getAttribute("data-idx"))})),e.addButton("addFormField",{text:(0,o.__)("Form Fields ","bitform"),tooltip:(0,o.__)("Add Form Field Value in Message","bitform"),type:"menubutton",icon:!1,menu:c.map((function(t){return!t.type.match(/^(file-up|recaptcha)$/)&&{text:t.name,onClick:function(){e.insertContent("${"+t.key+"}")}}}))}),e.addButton("toogleCode",{text:"</>",tooltip:(0,o.__)("Toggle preview","bitform"),icon:!1,onclick:function(t){var n=tinymce.dom.DomQuery,i=n("textarea"),a=n(e.iframeElement);i.value=e.getContent({source_view:!0}),a.toggleClass("hidden"),i.toggleClass("visible"),n("iframe.hidden").length>0?i.prependTo(".mce-edit-area"):(a.value=i.value,i.appendTo("body"))}})}})}return function(){"undefined"!==typeof tinymce&&tinymce.remove()}}),[c]);var h=function(e){t[f].body=e,n([].concat(t))};return t.length<1?(0,r.jsx)(a.l_,{to:"/form/settings/edit/"+u+"/email-templates"}):(0,r.jsxs)("div",{style:{width:900},children:[(0,r.jsxs)(l.OL,{to:"/form/settings/"+m+"/"+u+"/email-templates",className:"btn btcd-btn-o-gray",children:[(0,r.jsx)("span",{className:"btcd-icn icn-arrow_back"}),"Â ",(0,o.__)("Back","bitform")]}),(0,r.jsx)("button",{onClick:function(){p.push("/form/settings/"+m+"/"+u+"/email-templates"),s()},className:"btn blue f-right",type:"button",children:(0,o.__)("Update Template","bitform")}),(0,r.jsxs)("div",{className:"mt-3 flx",children:[(0,r.jsxs)("b",{style:{width:102},children:[(0,o.__)("Template Name:","bitform")," "]}),(0,r.jsx)("input",{onChange:function(e){t[f].title=e.target.value,n([].concat(t))},type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:t[f].title})]}),(0,r.jsxs)("div",{className:"mt-3 flx",children:[(0,r.jsx)("b",{style:{width:100},children:(0,o.__)("Subject:","bitform")}),(0,r.jsx)("input",{onChange:function(e){t[f].sub=e.target.value,n([].concat(t))},type:"text",className:"btcd-paper-inp w-7",placeholder:(0,o.__)("Email Subject Here","bitform"),value:t[f].sub}),(0,r.jsxs)("select",{onChange:function(e){t[f].sub+=e.target.value,n([].concat(t))},className:"btcd-paper-inp ml-2",style:{width:150},children:[(0,r.jsx)("option",{value:"",children:(0,o.__)("Add form field","bitform")}),null!==c&&c.map((function(e){return!e.type.match(/^(file-up|recaptcha)$/)&&(0,r.jsx)("option",{value:"${"+e.key+"}",children:e.name},e.key)}))]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)("b",{children:(0,o.__)("Body:","bitform")})}),(0,r.jsxs)("label",{htmlFor:"t-m-e-"+f+"-"+u,className:"mt-2 w-10",children:[(0,r.jsxs)("select",{onChange:function(e){t[f].body+=e.target.value,n([].concat(t))},className:"btcd-paper-inp mt-2 form-fields-em w-5",children:[(0,r.jsx)("option",{value:"",children:(0,o.__)("Add form field","bitform")}),null!==c&&c.map((function(e){return!e.type.match(/^(file-up|recaptcha)$/)&&(0,r.jsx)("option",{value:"${"+e.key+"}",children:e.name},e.key)}))]}),(0,r.jsx)("textarea",{id:"t-m-e-"+f+"-"+u,onChange:function(e){return h(e.target.value)},className:"btcd-editor btcd-paper-inp mt-1",rows:"5",value:t[f].body})]})]})]})}}}]);