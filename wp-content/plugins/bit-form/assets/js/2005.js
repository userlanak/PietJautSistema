(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[2005],{1194:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var i=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content",required:!0},{key:"post_excerpt",name:"Post Excert"},{key:"_thumbnail_id",name:"Featured Image"}]},2005:function(e,t,n){"use strict";n.r(t);var i=n(2122),s=n(4866),a=n(7294),l=n(5977),r=n(9492),o=n(4383),d=n(2247),c=n(772),u=n(5001),m=n(1194),p=n(5893);t.default=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,h=e.allIntegURL,b=(0,a.useState)([]),x=b[0],v=b[1],_=(0,a.useState)([]),j=_[0],g=_[1],N=(0,l.UO)().id,F=(0,l.k6)(),y=(0,a.useState)((0,i.Z)({},f[N])),k=y[0],C=y[1],P=(0,a.useState)([]),S=P[0],Z=P[1],w=(0,a.useState)({show:!1}),I=w[0],q=w[1];(0,a.useEffect)((function(){(0,r.Z)({},"bitforms_get_pod_type").then((function(e){var t,n;null!=e&&e.success&&void 0!==e&&(v(Object.values(null==(t=e.data)?void 0:t.post_types)),g(null==(n=e.data)?void 0:n.users))})),(0,r.Z)({pod_type:null==k?void 0:k.post_type},"bitforms_get_pod_field").then((function(e){null!=e&&e.success&&void 0!==e&&Z(Object.values(null==e?void 0:e.data))}))}),[]);var O=function(e,t,n){var s=(0,i.Z)({},k);s[e]=n?Number(t):t,C(s)};return(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(u.Z,{snack:I,setSnackbar:q}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,s.__)("Integration Name ","bitform")})}),(0,p.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return O(e.target.name,e.target.value)},name:"name",value:k.name,type:"text",placeholder:(0,s.__)("Integration Name...","bitform")}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,s.__)("Post Type","bitform")})}),(0,p.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var n=(0,i.Z)({},k);n[e]=t,(0,r.Z)({pod_type:t},"bitforms_get_pod_field").then((function(e){var t;null!=e&&e.success&&void 0!==e&&(Z(Object.values(null==e?void 0:e.data)),null!=e&&e.data&&(n.pod_map=Object.values(e.data).filter((function(e){return e.required})).map((function(e){return{formField:"",podFormField:e.key,required:e.required}})),(null==n||null==(t=n.pod_map)?void 0:t.length)<1&&(n.pod_map=[{}])),C(n))}))}(e.target.name,e.target.value)},value:null==k?void 0:k.post_type,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Select Type"}),x.map((function(e,t){return(0,p.jsx)("option",{value:e.name,children:e.label},t)}))]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,s.__)("Post Status","bitform")})}),(0,p.jsxs)("select",{name:"post_status",onChange:function(e){return O(e.target.name,e.target.value)},value:null==k?void 0:k.post_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,s.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"publish",children:"Publish"}),(0,p.jsx)("option",{value:"draft",children:"Draft"}),(0,p.jsx)("option",{value:"inherit",children:"Inherit"}),(0,p.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,p.jsx)("option",{value:"private ",children:"Private"}),(0,p.jsx)("option",{value:"pending",children:"Pending"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,s.__)("Comment Status","bitform")})}),(0,p.jsxs)("select",{name:"comment_status",onChange:function(e){return O(e.target.name,e.target.value)},value:null==k?void 0:k.comment_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,s.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"open",children:"Open"}),(0,p.jsx)("option",{value:"closed",children:"Closed"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,s.__)("Author","bitform")})}),(0,p.jsxs)("select",{name:"post_author",onChange:function(e){return O(e.target.name,e.target.value)},value:null==k?void 0:k.post_author,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Logged In User"}),j.map((function(e,t){return(0,p.jsx)("option",{value:e.ID,children:e.display_name},t)}))]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Pod Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("Pod Fields","bitform")})})]})]}),k.pod_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"pod",field:e,formFields:t,dataConf:k,setDataConf:C,podFields:S},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("pod_map",k.pod_map.length,k,C)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"WP Object Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("Pod Fields","bitform")})})]})]}),k.post_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"post",field:e,formFields:t,dataConf:k,setDataConf:C,podFields:m.I},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("post_map",k.post_map.length,k,C)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){(0,d.aJ)(k)&&(0,d.UW)(k)?(0,o.Mm)(f,n,h,k,F,N,"edit"):q({show:!0,msg:(0,s.__)("Please map mandatory fields","bitform")})},children:[(0,s.__)("Save","bitform")," "]})]})}},772:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(5637),s=n(2247),a=n(5893);function l(e){var t=e.i,n=e.type,l=e.formFields,r=e.field,o=e.dataConf,d=e.setDataConf,c=e.podFields,u={pod:{propName:"pod_map",fldName:"podFormField"},post:{propName:"post_map",fldName:"postFormField"}}[n],m=u.propName,p=u.fldName,f=!!c.find((function(e){return e.key===r[p]&&e.required}));return(0,a.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,a.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,a.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:r.formField||"",onChange:function(e){return(0,s.wX)(m,e,t,o,d)},children:[(0,a.jsx)("option",{value:"",children:(0,i.__)("Select Field","bitform")}),l.map((function(e){return"file-up33"!==e.type&&(0,a.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,a.jsxs)("select",{className:"btcd-paper-inp",name:p,value:r[p]||"",onChange:function(e){return(0,s.wX)(m,e,t,o,d)},disabled:f,children:[(0,a.jsx)("option",{value:"",children:(0,i.__)("Select Field","bitform")}),null==c?void 0:c.map((function(e){return(0,a.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})]}),f?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{onClick:function(){return(0,s.FP)(m,t,o,d)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:function(){return(0,s.FP)(m,t,o,d)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,a.jsx)("button",{onClick:function(){return(0,s.T5)(m,t,o,d)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,a.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})]})}},2247:function(e,t,n){"use strict";n.d(t,{FP:function(){return s},T5:function(){return a},wX:function(){return l},aJ:function(){return r},UW:function(){return o}});var i=n(2122),s=(n(5637),function(e,t,n,s){var a=(0,i.Z)({},n);a[e].splice(t,0,{}),s((0,i.Z)({},a))}),a=function(e,t,n,s){var a=(0,i.Z)({},n);a[e].length>1&&a[e].splice(t,1),s((0,i.Z)({},a))},l=function(e,t,n,s,a){var l=(0,i.Z)({},s);l[e][n][t.target.name]=t.target.value,a((0,i.Z)({},l))},r=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postFormField&&e.required})):[]).length>0)},o=function(e){return!((null!=e&&e.pod_map?e.pod_map.filter((function(e){return!e.formField&&e.podFormField&&e.required})):[]).length>0)}}}]);