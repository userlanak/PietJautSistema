(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[851],{851:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(2122),i=a(7294),r=a(5637),o=a(9151),c=a(5257),s=a(7376),l=a(5893);function d(e){e.formID;var t=e.mailConf,a=e.setMailConf,d=e.step,m=e.setstep,h=e.isLoading,u=e.setisLoading,f=e.setSnackbar,b=e.redirectLocation,_=e.isInfo,p=(0,i.useState)(!1),v=p[0],x=p[1],g=(0,i.useState)({dataCenter:"",clientId:"",clientSecret:""}),C=g[0],j=g[1],y=function(e){var i=(0,n.Z)({},t),r=(0,n.Z)({},C);r[e.target.name]="",i[e.target.name]=e.target.value,j(r),a(i)};return(0,l.jsxs)("div",{className:"btcd-stp-page",style:(0,n.Z)({},{width:1===d&&900},{height:1===d&&"100%"}),children:[(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Integration Name:","bitform")})}),(0,l.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:y,name:"name",value:t.name,type:"text",placeholder:(0,r.__)("Integration Name...","bitform"),disabled:_}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Data Center:","bitform")})}),(0,l.jsxs)("select",{onChange:y,name:"dataCenter",value:t.dataCenter,className:"btcd-paper-inp w-9 mt-1",disabled:_,children:[(0,l.jsx)("option",{value:"",children:(0,r.__)("--Select a data center--","bitform")}),(0,l.jsx)("option",{value:"com",children:"zoho.com"}),(0,l.jsx)("option",{value:"eu",children:"zoho.eu"}),(0,l.jsx)("option",{value:"com.cn",children:"zoho.com.cn"}),(0,l.jsx)("option",{value:"in",children:"zoho.in"}),(0,l.jsx)("option",{value:"com.au",children:"zoho.com.au"})]}),(0,l.jsx)("div",{style:{color:"red"},children:C.dataCenter}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Homepage URL:","bitform")})}),(0,l.jsx)(o.Z,{value:""+window.location.origin,setSnackbar:f,className:"field-key-cpy w-6 ml-0",readOnly:_}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Authorized Redirect URIs:","bitform")})}),(0,l.jsx)(o.Z,{value:b||window.location.href+"/redirect",setSnackbar:f,className:"field-key-cpy w-6 ml-0",readOnly:_}),(0,l.jsxs)("small",{className:"d-blk mt-5",children:[(0,r.__)("To get Client ID and SECRET , Please Visit","bitform")," ",(0,l.jsx)("a",{className:"btcd-link",href:"https://api-console.zoho."+((null==t?void 0:t.dataCenter)||"com")+"/",target:"_blank",rel:"noreferrer",children:(0,r.__)("Zoho API Console","bitform")})]}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Client id:","bitform")})}),(0,l.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:y,name:"clientId",value:t.clientId,type:"text",placeholder:(0,r.__)("Client id...","bitform"),disabled:_}),(0,l.jsx)("div",{style:{color:"red"},children:C.clientId}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("b",{children:(0,r.__)("Client secret:","bitform")})}),(0,l.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:y,name:"clientSecret",value:t.clientSecret,type:"text",placeholder:(0,r.__)("Client secret...","bitform"),disabled:_}),(0,l.jsx)("div",{style:{color:"red"},children:C.clientSecret}),!_&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:function(){return(0,s.P_)(t,a,j,x,u,f)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:v,children:[v?(0,r.__)("Authorized âœ”","bitform"):(0,r.__)("Authorize","bitform"),h&&(0,l.jsx)(c.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("button",{onClick:function(){m(2),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!v,children:[(0,r.__)("Next","bitform"),(0,l.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})}},7376:function(e,t,a){"use strict";a.d(t,{ZP:function(){return o},P_:function(){return c}});var n=a(2122),i=a(5637),r=a(9492);function o(e,t,a,i,r,o,c,s,l){var d=(0,n.Z)({},t);if(c){var m=(0,n.Z)({},s);m[e.target.name]="",l((0,n.Z)({},m))}d[e.target.name]=e.target.value,a((0,n.Z)({},d))}var c=function(e,t,a,r,o,c){if(e.dataCenter&&e.clientId&&e.clientSecret){o(!0);var l="https://accounts.zoho."+e.dataCenter+"/oauth/v2/auth?scope=ZohoMail.accounts.Read,ZohoMail.messages.CREATE,ZohoMail.messages.UPDATE,ZohoMail.Attachments.CREATE,ZohoMail.Attachments.READ,ZohoMail.Attachments.UPDATE&response_type=code&client_id="+e.clientId+"&prompt=Consent&access_type=offline&redirect_uri="+encodeURIComponent(window.location.href)+"/redirect",d=window.open(l,"zohoMail","width=400,height=609,toolbar=off"),m=setInterval((function(){if(d.closed){clearInterval(m);var a={},l=!1,h=localStorage.getItem("__bitforms_zohoMail");if(h&&(l=!0,a=JSON.parse(h),localStorage.removeItem("__bitforms_zohoMail")),a.code&&!a.error&&a&&l){var u=(0,n.Z)({},e);u.accountServer=a["accounts-server"],s(a,u,t,r,o,c)}else{var f=a.error?"Cause: "+a.error:"";c({show:!0,msg:(0,i.__)("Authorization failed","bitform")+" "+f+". "+(0,i.__)("please try again","bitform")}),o(!1)}}}),500)}else a({dataCenter:e.dataCenter?"":(0,i.__)("Data center cann't be empty","bitform"),clientId:e.clientId?"":(0,i.__)("Client ID cann't be empty","bitform"),clientSecret:e.clientSecret?"":(0,i.__)("Secret key cann't be empty","bitform")})},s=function(e,t,a,o,c,s){var l=(0,n.Z)({},e);l.dataCenter=t.dataCenter,l.clientId=t.clientId,l.clientSecret=t.clientSecret,l.redirectURI=encodeURIComponent(window.location.href)+"/redirect",(0,r.Z)(l,"bitforms_zmail_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var r=(0,n.Z)({},t);r.tokenDetails=e.data,a(r),o(!0),s({show:!0,msg:(0,i.__)("Authorized Successfully","bitform")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?s({show:!0,msg:""+(0,i.__)("Authorization failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,i.__)("please try again","bitform")}):s({show:!0,msg:(0,i.__)("Authorization failed. please try again","bitform")});c(!1)}))}}}]);