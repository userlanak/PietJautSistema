(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4375,2340],{4375:function(e,t,i){"use strict";i.r(t);var a=i(4866),n=i(7294),s=(i(8774),i(5977)),r=i(5001),l=i(3231),c=i(4383),d=i(5813),m=i(2340),o=i(9134),u=i(3494),f=i(5893);t.default=function(e){var t=e.formFields,i=e.setIntegration,p=e.integrations,b=e.allIntegURL,h=(0,s.k6)(),v=(0,s.UO)().formID,x=(0,n.useState)(!1),g=x[0],_=x[1],j=(0,n.useState)(1),C=j[0],N=j[1],y=(0,n.useState)({show:!1}),k=y[0],A=y[1],F=(0,n.useState)({name:"Active Campaign API",type:"ActiveCampaign",api_url:"",api_key:"",field_map:[{formField:"",activeCampaignField:""}],actions:{}}),Z=F[0],w=F[1];return(0,f.jsxs)("div",{children:[(0,f.jsx)(r.Z,{snack:k,setSnackbar:A}),(0,f.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,f.jsx)(l.Z,{step:3,active:C})}),(0,f.jsx)(m.default,{formID:v,activeCampaingConf:Z,setActiveCampaingConf:w,step:C,setstep:N,isLoading:g,setisLoading:_,setSnackbar:A}),(0,f.jsxs)("div",{className:"btcd-stp-page",style:{width:2===C&&900,minHeight:2===C&&"900px"},children:[(0,f.jsx)(u.Z,{formID:v,formFields:t,activeCampaingConf:Z,setActiveCampaingConf:w,isLoading:g,setisLoading:_,setSnackbar:A}),(0,f.jsxs)("button",{onClick:function(){return function(e){if(3===e){if(!(0,o.Pd)(Z))return void A({show:!0,msg:"Please map all required fields to continue."});""!==Z.name&&Z.field_map.length>0&&N(3)}document.querySelector(".btcd-s-wrp").scrollTop=0}(3)},disabled:Z.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,a.__)("Next","bitform")," "," ",(0,f.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,f.jsx)(d.Z,{step:C,saveConfig:function(){return(0,c.Mm)(p,i,b,Z,h)}})]})}},2340:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var a=i(2122),n=i(4866),s=i(7294),r=i(9492),l=i(5257),c=i(9134),d=i(5893);function m(e){e.formID;var t=e.activeCampaingConf,i=e.setActiveCampaingConf,m=e.step,o=e.setstep,u=e.setSnackbar,f=e.isInfo,p=(0,s.useState)(!1),b=p[0],h=p[1],v=(0,s.useState)({name:"",api_key:""}),x=v[0],g=v[1],_=(0,s.useState)(!1),j=_[0],C=_[1],N=(0,s.useState)(!1),y=N[0],k=N[1],A=function(e){var n=(0,a.Z)({},t),s=(0,a.Z)({},x);s[e.target.name]="",n[e.target.name]=e.target.value,g(s),i(n)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},{width:1===m&&900},{height:1===m&&"100%"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Integration Name:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:A,name:"name",value:t.name,type:"text",placeholder:(0,n.__)("Integration Name...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:x.name}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Access API URL:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:A,name:"api_url",value:t.api_url,type:"text",placeholder:(0,n.__)("Access API URL...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:x.api_url}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Access API Key:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:A,name:"api_key",value:t.api_key,type:"text",placeholder:(0,n.__)("Access API Key...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:x.api_key}),"auth"===y&&(0,d.jsxs)("div",{className:"flx mt-5",children:[(0,d.jsx)(l.Z,{size:"25",clr:"#022217",className:"mr-2"}),"Checking API Key!!!"]}),j&&!b&&!y&&(0,d.jsxs)("div",{className:"flx mt-5",style:{color:"red"},children:[(0,d.jsx)("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Sorry, API key is invalid"]}),!f&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){var e=(0,a.Z)({},t);if(e.name&&e.api_key&&e.api_url){k("auth");var i={api_key:e.api_key,api_url:e.api_url};(0,r.Z)(i,"bitforms_aCampaign_authorize").then((function(e){null!=e&&e.success&&(h(!0),u({show:!0,msg:(0,n.__)("Authorized Successfully","bitfrom")})),C(!0),k(!1)}))}else g({name:e.name?"":(0,n.__)("Integration name cann't be empty","bitform"),api_key:e.api_key?"":(0,n.__)("Access API Key cann't be empty","bitform"),api_url:e.api_url?"":(0,n.__)("Access API URL cann't be empty","bitform")})},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:b,children:[b?(0,n.__)("Authorized ✔","bitform"):(0,n.__)("Authorize","bitform"),y&&(0,d.jsx)(l.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){return(0,c.in)(t,i,k,u),o(2),void(document.querySelector(".btcd-s-wrp").scrollTop=0)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!b,children:[(0,n.__)("Next","bitform"),(0,d.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})})}},9134:function(e,t,i){"use strict";i.d(t,{Rx:function(){return r},in:function(){return l},Pd:function(){return c}});var a=i(2122),n=i(4866),s=i(9492),r=function(e,t,i){var n=(0,a.Z)({},t);n.name=e.target.value,i((0,a.Z)({},n))},l=function(e,t,i,r){var l={api_key:e.api_key,api_url:e.api_url};(0,s.Z)(l,"bitforms_aCampaign_headers").then((function(s){if(s&&s.success){var l=(0,a.Z)({},e);if(s.data.activeCampaignField){l.default||(l.default={}),l.default.fields=s.data.activeCampaignField;var c=l.default.fields;l.field_map=Object.values(c).filter((function(e){return e.required})).map((function(e){return{formField:"",activeCampaignField:e.fieldId,required:!0}})),r({show:!0,msg:(0,n.__)("ActiveCampaign fields refreshed","bitform")})}else r({show:!0,msg:(0,n.__)("No ActiveCampaign fields found. Try changing the header row number or try again","bitform")});t((0,a.Z)({},l))}else r({show:!0,msg:(0,n.__)("ActiveCampaign fields refresh failed. please try again","bitform")});i(!1)})).catch((function(){return i(!1)}))},c=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.activeCampaignField&&e.required})):[]).length>0)}},3494:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var a=i(4866),n=(i(8381),i(4383)),s=i(2122),r=i(3921),l=i(5893);function c(e){var t,i=e.activeCampaingConf,n=e.setActiveCampaingConf;return(0,l.jsx)("div",{className:"pos-rel d-flx w-8",children:(0,l.jsx)(r.Z,{checked:(null==(t=i.actions)?void 0:t.update)||!1,onChange:function(e){return function(e,t){var a=(0,s.Z)({},i);"update"===t&&(e.target.checked?a.actions.update=!0:delete a.actions.update),n((0,s.Z)({},a))}(e,"update")},className:"wdt-200 mt-4 mr-2",value:"user_share",title:(0,a.__)("Update ActiveCampaign","bitform"),subTitle:(0,a.__)("Update Responses with ActiveCampaign existing email?","bitform")})})}var d=i(8530);function m(e){var t,i,n,r=e.i,c=e.formFields,m=e.field,o=e.activeCampaingConf,u=e.setActiveCampaingConf,f=m.required,p=(null==o||null==(t=o.default)?void 0:t.fields)&&Object.values(null==o||null==(i=o.default)?void 0:i.fields).filter((function(e){return!e.required})),b=function(e,t){var i=(0,s.Z)({},o);i.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(i.field_map[t].customValue=""),u(i)};return(0,l.jsxs)("div",{className:f?"mt-2 mr-1":"flx flx-around mt-2 mr-1",children:[(0,l.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:function(e){return b(e,r)},children:[(0,l.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),c.map((function(e){return"file-up"!==e.type&&(0,l.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})),(0,l.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bitform")})]}),"custom"===m.formField&&(0,l.jsx)(d.Z,{onChange:function(e){return function(e,t){var i=(0,s.Z)({},o);i.field_map[t].customValue=e.target.value,u(i)}(e,r)},label:(0,a.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:m.customValue,placeholder:(0,a.__)("Custom Value","bitform")}),(0,l.jsxs)("select",{className:"btcd-paper-inp",name:"activeCampaignField",value:m.activeCampaignField,onChange:function(e){return b(e,r)},disabled:f,children:[(0,l.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),f?(null==o||null==(n=o.default)?void 0:n.fields)&&Object.values(o.default.fields).map((function(e){return(0,l.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")})):p&&p.map((function(e){return(0,l.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")}))]}),!f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:function(){return function(e){var t=(0,s.Z)({},o);t.field_map.splice(e,0,{}),u(t)}(r)},className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),(0,l.jsx)("button",{onClick:function(){return function(e){var t=(0,s.Z)({},o);t.field_map.length>1&&t.field_map.splice(e,1),u(t)}(r)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,l.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})]})}function o(e){e.formID;var t=e.formFields,i=e.activeCampaingConf,s=e.setActiveCampaingConf;e.isLoading,e.setisLoading,e.setSnackbar;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("b",{className:"wdt-100",children:(0,a.__)("Map Fields","bitform")})}),(0,l.jsx)("div",{className:"btcd-hr mt-1"}),(0,l.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,l.jsx)("div",{className:"txt-dp",children:(0,l.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,l.jsx)("div",{className:"txt-dp",children:(0,l.jsx)("b",{children:(0,a.__)("ActiveCampaign Fields","bitform")})})]}),i.field_map.map((function(e,a){return(0,l.jsx)(m,{i:a,field:e,activeCampaingConf:i,formFields:t,setActiveCampaingConf:s},"Activecampaign-m-"+(a+9))})),(0,l.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,l.jsx)("button",{onClick:function(){return(0,n.FP)(i.field_map.length,i,s)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("b",{className:"wdt-100",children:(0,a.__)("Actions","bitform")})}),(0,l.jsx)("div",{className:"btcd-hr mt-1"}),(0,l.jsx)(c,{activeCampaingConf:i,setActiveCampaingConf:s})]})}},5813:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var a=i(5637),n=i(5893);function s(e){var t=e.step,i=e.saveConfig,s=e.edit,r=e.disabled;return s?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:i,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r,children:(0,a.__)("Save","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:i,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform"),"✔"]})]})}},8530:function(e,t,i){"use strict";var a=i(5893);t.Z=function(e){var t=e.label,i=e.onChange,n=e.value,s=e.disabled,r=e.type,l=e.textarea,c=e.className;return(0,a.jsxs)("label",{className:"btcd-mt-inp "+c,children:[!l&&(0,a.jsx)("input",{type:void 0===r?"text":r,onChange:i,placeholder:" ",disabled:s,value:n}),l&&(0,a.jsx)("textarea",{type:void 0===r?"text":r,onChange:i,placeholder:" ",disabled:s,value:n}),(0,a.jsx)("span",{children:t})]})}},3231:function(e,t,i){"use strict";var a=i(7294),n=i(5893);t.Z=function(e){var t=e.step,i=e.active,s=e.className;return(0,n.jsx)("div",{className:"d-in-b "+s,children:(0,n.jsxs)("div",{className:"flx flx-center",children:[Array(i).fill(0).map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),i-1!==t&&(0,n.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-i!==0&&(0,n.jsx)("div",{className:"btcd-stp-line"}),Array(t-i).fill(0).map((function(e,s){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:s+i+1}),t-i-1!==s&&(0,n.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(s+23))}))]})})}}}]);