(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6896],{6896:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(2122),r=a(7294),i=a(9492),n=a(5637),o=a(5257),l=a(9965),c=a(5893);function m(e){e.formID;var t=e.telegramConf,a=e.setTelegramConf,m=e.step,d=e.setstep,u=e.setSnackbar,b=e.isInfo,f=(0,r.useState)(!1),_=f[0],h=f[1],p=(0,r.useState)({name:"",bot_api_key:"",apiError:""}),g=p[0],x=p[1],y=(0,r.useState)(!1),v=y[0],j=y[1],k=(0,r.useState)(!1),N=k[0],C=k[1],w=function(e){var r=(0,s.Z)({},t),i=(0,s.Z)({},g);i[e.target.name]="",r[e.target.name]=e.target.value,x(i),a(r)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"btcd-stp-page",style:(0,s.Z)({},{width:1===m&&900},{height:1===m&&"100%"}),children:[(0,c.jsx)("div",{className:"mt-3",children:(0,c.jsx)("b",{children:(0,n.__)("Integration Name:","bitform")})}),(0,c.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:w,name:"name",value:t.name,type:"text",placeholder:(0,n.__)("Integration Name...","bitform"),disabled:b}),(0,c.jsx)("div",{style:{color:"red",fontSize:"15px",marginTop:"5px"},children:g.name}),(0,c.jsx)("div",{className:"mt-3",children:(0,c.jsx)("b",{children:(0,n.__)("Bot API Key:","bitform")})}),(0,c.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:w,name:"bot_api_key",value:t.bot_api_key,type:"text",placeholder:(0,n.__)("Integration Name...","bitform"),disabled:b}),(0,c.jsx)("div",{style:{color:"red",fontSize:"15px",marginTop:"5px"},children:g.bot_api_key}),"auth"===N&&(0,c.jsxs)("div",{className:"flx mt-5",children:[(0,c.jsx)(o.Z,{size:"25",clr:"#022217",className:"mr-2"}),"Checking API Key!!!"]}),v&&!_&&!N&&(0,c.jsxs)("div",{className:"flx mt-5",style:{color:"red"},children:[(0,c.jsx)("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),g.apiError]}),!b&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{onClick:function(){var e=(0,s.Z)({},t);if(e.name&&e.bot_api_key){C("auth");var a={bot_api_key:e.bot_api_key};(0,i.Z)(a,"bitforms_telegram_authorize").then((function(e){null!=e&&e.success?(h(!0),u({show:!0,msg:(0,n.__)("Authorized Successfully","bitfrom")})):(h(!1),x({apiError:null==e?void 0:e.data.description}),u({show:!0,msg:(0,n.__)("Authorized Filled","bitfrom")})),j(!0),C(!1)}))}else x({name:e.name?"":(0,n.__)("Integration name cann't be empty","bitform"),bot_api_key:e.bot_api_key?"":(0,n.__)("API Key cann't be empty","bitform")})},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:_,children:[_?(0,n.__)("Authorized ✔","bitform"):(0,n.__)("Authorize","bitform"),N&&(0,c.jsx)(o.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("button",{onClick:function(){return(0,l.c)(t,a,C,u),d(2),void(document.querySelector(".btcd-s-wrp").scrollTop=0)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!_,children:[(0,n.__)("Next","bitform"),(0,c.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})})}},9965:function(e,t,a){"use strict";a.d(t,{c:function(){return n},R:function(){return o}});var s=a(2122),r=a(5637),i=a(9492),n=function(e,t,a,n){var o=(0,s.Z)({},e),l={bot_api_key:o.bot_api_key};a(!0),(0,i.Z)(l,"bitforms_refresh_get_updates").then((function(e){e&&e.success?(o.default||(o.default={}),e.data.telegramChatLists&&(o.default.telegramChatLists=e.data.telegramChatLists),n({show:!0,msg:(0,r.__)("Chat list refreshed","bitform")}),t((0,s.Z)({},o))):e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?n({show:!0,msg:""+(0,r.__)("Chat list refresh failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,r.__)("please try again","bitform")}):n({show:!0,msg:(0,r.__)("Chat list refresh failed. please try again","bitform")}),a(!1)})).catch((function(){return a(!1)}))},o=function(e,t,a){var r=(0,s.Z)({},t);r.name=e.target.value,a((0,s.Z)({},r))}}}]);