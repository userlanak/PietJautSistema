(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[9354],{9354:function(e,t,n){"use strict";n.r(t);var a=n(2122),l=n(7294),i=n(5977),r=n(5637),s=n(5001),d=n(5813),u=n(3319),c=n(8480),f=n(1109),o=n(5893);t.default=function(e){var t=e.formFields,n=e.setIntegration,m=e.integrations,p=e.allIntegURL,h=(0,i.k6)(),_=(0,i.UO)(),g=_.id,b=_.formID,v=(0,l.useState)((0,a.Z)({},m[g])),x=v[0],j=v[1],C=(0,l.useState)({show:!1}),Z=C[0],N=C[1];return(0,o.jsxs)("div",{style:{width:900},children:[(0,o.jsx)(s.Z,{snack:Z,setSnackbar:N}),(0,o.jsxs)("div",{className:"flx mt-3",children:[(0,o.jsx)("b",{className:"wdt-150 d-in-b",children:(0,r.__)("Integration Name:","bitform")}),(0,o.jsx)("input",{className:"btcd-paper-inp w-7",onChange:function(e){return(0,c.Rx)(e,x,j)},name:"name",value:x.name,type:"text",placeholder:(0,r.__)("Integration Name...","bitform")})]}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(f.Z,{formID:b,formFields:t,enchargeConf:x,setEnchargeConf:j}),void 0,(0,o.jsx)(d.Z,{edit:!0,saveConfig:function(){return(0,u.Mm)(m,n,p,x,h,g,1)},disabled:""===x.listId||x.field_map.length<1}),(0,o.jsx)("br",{})]})}},8480:function(e,t,n){"use strict";n.d(t,{Rx:function(){return r},nI:function(){return s},Pd:function(){return d}});var a=n(2122),l=n(9492),i=n(5637),r=function(e,t,n){var l=(0,a.Z)({},t);l.name=e.target.value,n((0,a.Z)({},l))},s=function(e,t,n,r){var s={api_key:e.api_key},d=(0,a.Z)({},e);(0,l.Z)(s,"bitforms_encharge_headers").then((function(e){if(e&&e.success){if(d.default||(d.default={}),e.data.enChargeFields){d.default.fields=e.data.enChargeFields;var l=d.default.fields;d.field_map=Object.values(l).filter((function(e){return e.required})).map((function(e){return{formField:"",enChargeFields:e.fieldId,required:!0}})),r({show:!0,msg:(0,i.__)("Encharge fields refreshed","bitform")})}else r({show:!0,msg:(0,i.__)("No Encharge fields found. Try changing the header row number or try again","bitform")});t((0,a.Z)({},d))}else r({show:!0,msg:(0,i.__)("Encharge fields refresh failed. please try again","bitform")});n(!1)})).catch((function(){return n(!1)}))},d=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.enChargeFields&&e.required})):[]).length>0)}},1109:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(5637),l=n(4383),i=n(2122),r=n(8530),s=n(5893);function d(e){var t,n,l,d=e.i,u=e.formFields,c=e.field,f=e.enchargeConf,o=e.setEnchargeConf,m=c.required,p=(null==f||null==(t=f.default)?void 0:t.fields)&&Object.values(null==f||null==(n=f.default)?void 0:n.fields).filter((function(e){return!e.required})),h=function(e,t){var n=(0,i.Z)({},f);n.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n.field_map[t].customValue=""),o(n)};return(0,s.jsxs)("div",{className:m?"mt-2 mr-1 flx w-9":"flx flx-around mt-2 mr-1",children:[(0,s.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:c.formField||"",onChange:function(e){return h(e,d)},children:[(0,s.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),u.map((function(e){return"file-up"!==e.type&&(0,s.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})),(0,s.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bitform")})]}),"custom"===c.formField&&(0,s.jsx)(r.Z,{onChange:function(e){return function(e,t){var n=(0,i.Z)({},f);n.field_map[t].customValue=e.target.value,o(n)}(e,d)},label:(0,a.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:c.customValue,placeholder:(0,a.__)("Custom Value","bitform")}),(0,s.jsxs)("select",{className:"btcd-paper-inp",name:"enChargeFields",value:c.enChargeFields,onChange:function(e){return h(e,d)},disabled:m,children:[(0,s.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),m?(null==f||null==(l=f.default)?void 0:l.fields)&&Object.values(f.default.fields).map((function(e){return(0,s.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")})):p&&p.map((function(e){return(0,s.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")}))]}),!m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){return function(e){var t=(0,i.Z)({},f);t.field_map.splice(e,0,{}),o(t)}(d)},className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),(0,s.jsx)("button",{onClick:function(){return function(e){var t=(0,i.Z)({},f);t.field_map.length>1&&t.field_map.splice(e,1),o(t)}(d)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,s.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})]})}function u(e){e.formID;var t,n=e.formFields,i=e.enchargeConf,r=e.setEnchargeConf;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),0!==(null==i||null==(t=i.default)?void 0:t.fields)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("b",{className:"wdt-100",children:(0,a.__)("Map Fields","bitform")})}),(0,s.jsx)("div",{className:"btcd-hr mt-1"}),(0,s.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,s.jsx)("div",{className:"txt-dp",children:(0,s.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,s.jsx)("div",{className:"txt-dp",children:(0,s.jsx)("b",{children:(0,a.__)("Encharge Fields","bitform")})})]}),i.field_map.map((function(e,t){return(0,s.jsx)(d,{i:t,field:e,enchargeConf:i,formFields:n,setEnchargeConf:r},"sendinblue-m-"+(t+9))})),(0,s.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,s.jsx)("button",{onClick:function(){return(0,l.FP)(i.field_map.length,i,r)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})]})}},5813:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(5637),l=n(5893);function i(e){var t=e.step,n=e.saveConfig,i=e.edit,r=e.disabled;return i?(0,l.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,l.jsx)("button",{onClick:n,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r,children:(0,a.__)("Save","bitform")})}):(0,l.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,l.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,l.jsxs)("button",{onClick:n,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform"),"âœ”"]})]})}},3319:function(e,t,n){"use strict";n.d(t,{Mm:function(){return l},FP:function(){return i},T5:function(){return r},wX:function(){return s},mG:function(){return d},D2:function(){return u},LX:function(){return c},Ye:function(){return f}});var a=n(2122),l=(n(5637),n(9492),function(e,t,n,l,i,r,s){var d=[].concat(e);if(s)d[r]=(0,a.Z)({},e[r],l),d.push({editItegration:!0}),t([].concat(d)),i.push(n);else{var u=[].concat(d);u.push(l),u.push({newItegration:!0}),t(u),i.push(n)}}),i=function(e,t,n,l,i){var r=(0,a.Z)({},t);i?l?r.relatedlists[i-1].upload_field_map.splice(e,0,{}):r.relatedlists[i-1].field_map.splice(e,0,{}):l?r.upload_field_map.splice(e,0,{}):r.field_map.splice(e,0,{}),n((0,a.Z)({},r))},r=function(e,t,n,l,i){var r=(0,a.Z)({},t);i?l?r.relatedlists[i-1].upload_field_map.length>1&&r.relatedlists[i-1].upload_field_map.splice(e,1):r.relatedlists[i-1].field_map.length>1&&r.relatedlists[i-1].field_map.splice(e,1):l?r.upload_field_map.length>1&&r.upload_field_map.splice(e,1):r.field_map.length>1&&r.field_map.splice(e,1),n((0,a.Z)({},r))},s=function(e,t,n,l,i,r){var s=(0,a.Z)({},n);r?i?s.relatedlists[r-1].upload_field_map[t][e.target.name]=e.target.value:s.relatedlists[r-1].field_map[t][e.target.name]=e.target.value:i?s.upload_field_map[t][e.target.name]=e.target.value:s.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(r?s.relatedlists[r-1].field_map[t].customValue="":s.field_map[t].customValue=""),l((0,a.Z)({},s))},d=function(e,t,n,l,i){var r=(0,a.Z)({},n);i?r.relatedlists[i-1].field_map[t].customValue=e.target.value:r.field_map[t].customValue=e.target.value,l((0,a.Z)({},r))},u=function(e,t,n,l,i,r){var s=(0,a.Z)({},n);s.address_field[t][e.target.name]=e.target.value,l((0,a.Z)({},s))},c=function(e,t,n){var l=(0,a.Z)({},t);l.address_field||(l.address_field=[]),l.address_field.push({}),n((0,a.Z)({},l))},f=function(e,t,n){var l=(0,a.Z)({},t);l.address_field&&l.address_field.length>1&&l.address_field.splice(e,1),n((0,a.Z)({},l))}},8530:function(e,t,n){"use strict";var a=n(5893);t.Z=function(e){var t=e.label,n=e.onChange,l=e.value,i=e.disabled,r=e.type,s=e.textarea,d=e.className;return(0,a.jsxs)("label",{className:"btcd-mt-inp "+d,children:[!s&&(0,a.jsx)("input",{type:void 0===r?"text":r,onChange:n,placeholder:" ",disabled:i,value:l}),s&&(0,a.jsx)("textarea",{type:void 0===r?"text":r,onChange:n,placeholder:" ",disabled:i,value:l}),(0,a.jsx)("span",{children:t})]})}}}]);