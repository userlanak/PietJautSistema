(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[7923],{7923:function(e,t,n){"use strict";n.r(t);var s=n(7294),i=(n(8774),n(5977)),a=n(5637),r=n(5001),l=n(3231),c=n(4383),d=n(5813),o=n(2643),m=n(2515),u=n(9652),f=n(5893);t.default=function(e){var t=e.formFields,n=e.setIntegration,b=e.integrations,p=e.allIntegURL,x=(0,i.k6)(),h=(0,i.UO)().formID,_=(0,s.useState)(!1),g=_[0],j=_[1],v=(0,s.useState)(1),y=v[0],N=v[1],k=(0,s.useState)({show:!1}),S=k[0],I=k[1],C=(0,s.useState)({templateId:"",RedirectionUrl:""}),w=C[0],A=C[1],Z=(0,s.useState)({name:"Sendinblue API",type:"Sendinblue",lists:[],api_key:"",field_map:[{formField:"",sendinBlueField:""}],actions:{}}),P=Z[0],z=Z[1];return(0,f.jsxs)("div",{children:[(0,f.jsx)(r.Z,{snack:S,setSnackbar:I}),(0,f.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,f.jsx)(l.Z,{step:3,active:y})}),(0,f.jsx)(o.default,{formID:h,sendinBlueConf:P,setSendinBlueConf:z,step:y,setstep:N,isLoading:g,setisLoading:j,setSnackbar:I}),(0,f.jsxs)("div",{className:"btcd-stp-page",style:{width:2===y&&900,minHeight:2===y&&"900px"},children:[(0,f.jsx)(u.Z,{formID:h,formFields:t,sendinBlueConf:P,setSendinBlueConf:z,isLoading:g,setisLoading:j,setSnackbar:I,error:w,setError:A}),(0,f.jsxs)("button",{onClick:function(){return function(e){if(3===e){if(""===P.templateId||""===P.redirectionUrl)return void A({templateId:P.templateId?"":(0,a.__)("Template name cann't be empty","bitform"),redirectionUrl:P.redirectionUrl?"":(0,a.__)("Redirection url name cann't be empty","bitform")});if(!(0,m.Pd)(P))return void I({show:!0,msg:"Please map all required fields to continue."});""!==P.name&&P.field_map.length>0&&N(3)}document.querySelector(".btcd-s-wrp").scrollTop=0}(3)},disabled:P.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,a.__)("Next","bitform")," "," ",(0,f.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,f.jsx)(d.Z,{step:y,saveConfig:function(){return(0,c.Mm)(b,n,p,P,x)}})]})}},2643:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(2122),i=n(7294),a=n(5637),r=n(9492),l=n(5257),c=n(2515),d=n(5893);function o(e){e.formID;var t=e.sendinBlueConf,n=e.setSendinBlueConf,o=e.step,m=e.setstep,u=e.setSnackbar,f=e.isInfo,b=(0,i.useState)(!1),p=b[0],x=b[1],h=(0,i.useState)({name:"",api_key:""}),_=h[0],g=h[1],j=(0,i.useState)(!1),v=j[0],y=j[1],N=(0,i.useState)(!1),k=N[0],S=N[1],I=function(e){var i=(0,s.Z)({},t),a=(0,s.Z)({},_);a[e.target.name]="",i[e.target.name]=e.target.value,g(a),n(i)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,s.Z)({},{width:1===o&&900},{height:1===o&&"100%"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,a.__)("Integration Name:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:I,name:"name",value:t.name,type:"text",placeholder:(0,a.__)("Integration Name...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:_.name}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,a.__)("API Key:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:I,name:"api_key",value:t.api_key,type:"text",placeholder:(0,a.__)("Integration Name...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:_.api_key}),(0,d.jsxs)("small",{className:"d-blk mt-5",children:[(0,a.__)("To get API , Please Visit","bitform")," ",(0,d.jsx)("a",{className:"btcd-link",href:"https://account.sendinblue.com/advanced/api",target:"_blank",rel:"noreferrer",children:(0,a.__)("Sendinblue API Console","bitform")})]}),"auth"===k&&(0,d.jsxs)("div",{className:"flx mt-5",children:[(0,d.jsx)(l.Z,{size:"25",clr:"#022217",className:"mr-2"}),"Checking API Key!!!"]}),v&&!p&&!k&&(0,d.jsxs)("div",{className:"flx mt-5",style:{color:"red"},children:[(0,d.jsx)("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Sorry, API key is invalid"]}),!f&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){var e=(0,s.Z)({},t);if(e.name&&e.api_key){S("auth");var n={api_key:e.api_key};(0,r.Z)(n,"bitforms_sblue_authorize").then((function(e){null!=e&&e.success&&(x(!0),u({show:!0,msg:(0,a.__)("Authorized Successfully","bitfrom")})),y(!0),S(!1)}))}else g({name:e.name?"":(0,a.__)("Integration name cann't be empty","bitform"),api_key:e.api_key?"":(0,a.__)("API Key cann't be empty","bitform")})},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:p,children:[p?(0,a.__)("Authorized ✔","bitform"):(0,a.__)("Authorize","bitform"),k&&(0,d.jsx)(l.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){return m(2),(0,c.aS)(t,n,S,u),void(document.querySelector(".btcd-s-wrp").scrollTop=0)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!p,children:[(0,a.__)("Next","bitform"),(0,d.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})})}},3231:function(e,t,n){"use strict";var s=n(7294),i=n(5893);t.Z=function(e){var t=e.step,n=e.active,a=e.className;return(0,i.jsx)("div",{className:"d-in-b "+a,children:(0,i.jsxs)("div",{className:"flx flx-center",children:[Array(n).fill(0).map((function(e,t){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),n-1!==t&&(0,i.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-n!==0&&(0,i.jsx)("div",{className:"btcd-stp-line"}),Array(t-n).fill(0).map((function(e,a){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:a+n+1}),t-n-1!==a&&(0,i.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(a+23))}))]})})}}}]);