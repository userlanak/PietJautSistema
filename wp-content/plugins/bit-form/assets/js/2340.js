(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[2340],{2340:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var a=i(2122),n=i(4866),r=i(7294),s=i(9492),l=i(5257),c=i(9134),d=i(5893);function m(e){e.formID;var t=e.activeCampaingConf,i=e.setActiveCampaingConf,m=e.step,o=e.setstep,u=e.setSnackbar,f=e.isInfo,p=(0,r.useState)(!1),_=p[0],b=p[1],h=(0,r.useState)({name:"",api_key:""}),g=h[0],v=h[1],x=(0,r.useState)(!1),y=x[0],j=x[1],k=(0,r.useState)(!1),A=k[0],C=k[1],N=function(e){var n=(0,a.Z)({},t),r=(0,a.Z)({},g);r[e.target.name]="",n[e.target.name]=e.target.value,v(r),i(n)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},{width:1===m&&900},{height:1===m&&"100%"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Integration Name:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"name",value:t.name,type:"text",placeholder:(0,n.__)("Integration Name...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:g.name}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Access API URL:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"api_url",value:t.api_url,type:"text",placeholder:(0,n.__)("Access API URL...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:g.api_url}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,n.__)("Access API Key:","bitform")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"api_key",value:t.api_key,type:"text",placeholder:(0,n.__)("Access API Key...","bitform"),disabled:f}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:g.api_key}),"auth"===A&&(0,d.jsxs)("div",{className:"flx mt-5",children:[(0,d.jsx)(l.Z,{size:"25",clr:"#022217",className:"mr-2"}),"Checking API Key!!!"]}),y&&!_&&!A&&(0,d.jsxs)("div",{className:"flx mt-5",style:{color:"red"},children:[(0,d.jsx)("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Sorry, API key is invalid"]}),!f&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){var e=(0,a.Z)({},t);if(e.name&&e.api_key&&e.api_url){C("auth");var i={api_key:e.api_key,api_url:e.api_url};(0,s.Z)(i,"bitforms_aCampaign_authorize").then((function(e){null!=e&&e.success&&(b(!0),u({show:!0,msg:(0,n.__)("Authorized Successfully","bitfrom")})),j(!0),C(!1)}))}else v({name:e.name?"":(0,n.__)("Integration name cann't be empty","bitform"),api_key:e.api_key?"":(0,n.__)("Access API Key cann't be empty","bitform"),api_url:e.api_url?"":(0,n.__)("Access API URL cann't be empty","bitform")})},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:_,children:[_?(0,n.__)("Authorized ✔","bitform"):(0,n.__)("Authorize","bitform"),A&&(0,d.jsx)(l.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){return(0,c.in)(t,i,C,u),o(2),void(document.querySelector(".btcd-s-wrp").scrollTop=0)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!_,children:[(0,n.__)("Next","bitform"),(0,d.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]})]})})}},9134:function(e,t,i){"use strict";i.d(t,{Rx:function(){return s},in:function(){return l},Pd:function(){return c}});var a=i(2122),n=i(4866),r=i(9492),s=function(e,t,i){var n=(0,a.Z)({},t);n.name=e.target.value,i((0,a.Z)({},n))},l=function(e,t,i,s){var l={api_key:e.api_key,api_url:e.api_url};(0,r.Z)(l,"bitforms_aCampaign_headers").then((function(r){if(r&&r.success){var l=(0,a.Z)({},e);if(r.data.activeCampaignField){l.default||(l.default={}),l.default.fields=r.data.activeCampaignField;var c=l.default.fields;l.field_map=Object.values(c).filter((function(e){return e.required})).map((function(e){return{formField:"",activeCampaignField:e.fieldId,required:!0}})),s({show:!0,msg:(0,n.__)("ActiveCampaign fields refreshed","bitform")})}else s({show:!0,msg:(0,n.__)("No ActiveCampaign fields found. Try changing the header row number or try again","bitform")});t((0,a.Z)({},l))}else s({show:!0,msg:(0,n.__)("ActiveCampaign fields refresh failed. please try again","bitform")});i(!1)})).catch((function(){return i(!1)}))},c=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.activeCampaignField&&e.required})):[]).length>0)}}}]);